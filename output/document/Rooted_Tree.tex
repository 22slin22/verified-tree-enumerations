%
\begin{isabellebody}%
\setisabellecontext{Rooted{\isacharunderscore}{\kern0pt}Tree}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Rooted{\isacharunderscore}{\kern0pt}Tree\isanewline
\isakeyword{imports}\ Tree{\isacharunderscore}{\kern0pt}Graph\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Library{\isachardot}{\kern0pt}FSet{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{datatype}\isamarkupfalse%
\ tree\ {\isacharequal}{\kern0pt}\ Node\ {\isachardoublequoteopen}tree\ list{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isasymSum}t{\isasymleftarrow}ts{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}size\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ height\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}height\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}height\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Max\ {\isacharparenleft}{\kern0pt}height\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Convenient case splitting and induction for trees%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}exhaust{\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ Nil\ Cons{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ P{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}r\ ts{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}r\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ list{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}exhaust{\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ Nil\ Snoc{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ P{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}ts\ r{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}ts\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ rev{\isacharunderscore}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ Nil\ Cons{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymAnd}t\ ts{\isachardot}{\kern0pt}\ P\ t\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}size{\isacharunderscore}{\kern0pt}tree\ t{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ t\ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ less\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ False{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ r\ {\isasymlongleftrightarrow}\ True{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}r{\isacharhash}{\kern0pt}rs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymor}\ {\isacharparenleft}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ r\ {\isasymand}\ lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ rs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ mirror\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ tree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}mirror\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}map\ mirror\ {\isacharparenleft}{\kern0pt}rev\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{instantiation}\isamarkupfalse%
\ tree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ linorder\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}tree{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ r\ {\isasymlongleftrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}mirror\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}mirror\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ tree{\isacharparenright}{\kern0pt}\ {\isasymle}\ r\ {\isasymlongleftrightarrow}\ t\ {\isacharless}{\kern0pt}\ r\ {\isasymor}\ t\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isasymnoteq}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}elims{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mirror\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymnoteq}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ mirror\ t\ {\isasymnoteq}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymle}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymnoteq}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharless}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}empty\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ t\ {\isacharless}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymle}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}antisym{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymLongrightarrow}\ {\isasymnot}\ lexord{\isacharunderscore}{\kern0pt}tree\ r\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ r\ t\ rule{\isacharcolon}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}antisym{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}tree{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ r\ {\isasymLongrightarrow}\ {\isasymnot}\ r\ {\isacharless}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}antisym\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymLongrightarrow}\ t\ {\isasymnoteq}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ r\ t\ rule{\isacharcolon}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}tree{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ r\ {\isasymLongrightarrow}\ t\ {\isasymnoteq}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ lexord{\isacharunderscore}{\kern0pt}tree\ t\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}t{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}tree{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymand}\ {\isasymnot}\ lexord{\isacharunderscore}{\kern0pt}tree\ r\ t\ {\isasymlongleftrightarrow}\ t\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ r\ rule{\isacharcolon}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}induct{\isacharcomma}{\kern0pt}\ fastforce{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mirror\ t\ {\isacharequal}{\kern0pt}\ mirror\ r\ {\isasymLongrightarrow}\ t\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ arbitrary{\isacharcolon}{\kern0pt}\ r\ rule{\isacharcolon}{\kern0pt}\ mirror{\isachardot}{\kern0pt}induct{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ list{\isachardot}{\kern0pt}inj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}strong\ mirror{\isachardot}{\kern0pt}elims\ rev{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}ident\ tree{\isachardot}{\kern0pt}inject{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}t{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}tree{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ r\ {\isasymand}\ {\isasymnot}\ r\ {\isacharless}{\kern0pt}\ t\ {\isasymlongleftrightarrow}\ t\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ mirror{\isacharunderscore}{\kern0pt}inj\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymLongrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ r\ s\ {\isasymLongrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ t\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ s\ arbitrary{\isacharcolon}{\kern0pt}\ r\ rule{\isacharcolon}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ va\ vb{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ t\ ts\ s\ ss{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ r\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{instance}\isamarkupfalse%
\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ t\ r\ s\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ tree\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharless}{\kern0pt}\ r\ {\isasymlongleftrightarrow}\ t\ {\isasymle}\ r\ {\isasymand}\ {\isasymnot}\ r\ {\isasymle}\ t{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}antisym\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymle}\ t{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymle}\ r\ {\isasymLongrightarrow}\ r\ {\isasymle}\ t\ {\isasymLongrightarrow}\ t\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}antisym\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymle}\ r\ {\isasymor}\ r\ {\isasymle}\ t{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymle}\ r\ {\isasymLongrightarrow}\ r\ {\isasymle}\ s\ {\isasymLongrightarrow}\ t\ {\isasymle}\ s{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}trans\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}children{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymLongrightarrow}\ t\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}size\ t\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ le{\isacharunderscore}{\kern0pt}add{\isadigit{1}}\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}remove{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ t\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}ne{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ t\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ t\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isasymlongleftrightarrow}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}ne{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}children{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymLongrightarrow}\ length\ ts\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts\ arbitrary{\isacharcolon}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ metis\ add{\isacharunderscore}{\kern0pt}mono\ plus{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Suc\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ height{\isacharunderscore}{\kern0pt}Node{\isacharunderscore}{\kern0pt}cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}height\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymge}\ Suc\ {\isacharparenleft}{\kern0pt}height\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ height{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}height\ t\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ height{\isachardot}{\kern0pt}elims\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ height{\isacharunderscore}{\kern0pt}children{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}height\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymLongrightarrow}\ t\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ height\ t\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ Max{\isacharunderscore}{\kern0pt}ge\ diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ finite{\isacharunderscore}{\kern0pt}imageI\ height{\isachardot}{\kern0pt}elims\ imageI\ nat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ tree{\isachardot}{\kern0pt}inject{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ height{\isacharunderscore}{\kern0pt}children{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}height{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}t\ {\isasymin}\ set\ ts{\isachardot}{\kern0pt}\ height\ t\ {\isasymle}\ n\ {\isasymLongrightarrow}\ height\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isasymle}\ Suc\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ts{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}mirror{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mirror\ {\isacharparenleft}{\kern0pt}mirror\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ mirror{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}idI\ rev{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mirror\ t\ {\isacharequal}{\kern0pt}\ Node\ ts\ {\isasymlongleftrightarrow}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}map\ mirror\ {\isacharparenleft}{\kern0pt}rev\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ mirror{\isachardot}{\kern0pt}simps\ mirror{\isacharunderscore}{\kern0pt}mirror{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mirror{\isacharunderscore}{\kern0pt}append{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mirror\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}rs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}map\ mirror\ {\isacharparenleft}{\kern0pt}rev\ rs{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ map\ mirror\ {\isacharparenleft}{\kern0pt}rev\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}snoc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ ts\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}snoc\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ ts\ {\isasymle}\ Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymle}\ Node\ rs\ {\isasymLongrightarrow}\ t\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}r{\isacharhash}{\kern0pt}rs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ order{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}cons{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymlongleftrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharless}{\kern0pt}\ r\ {\isasymlongleftrightarrow}\ Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}r{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}cons{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}cons{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymle}\ r\ {\isasymlongleftrightarrow}\ Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ {\isasymle}\ Node\ {\isacharparenleft}{\kern0pt}r{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}snoc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ Node\ ts\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}induct{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ metis\ leD\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ sorted{\isadigit{2}}\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}append\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ metis\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ nle{\isacharunderscore}{\kern0pt}le\ sorted{\isadigit{2}}\ sorted{\isacharunderscore}{\kern0pt}append\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharless}{\kern0pt}\ r\ {\isasymLongrightarrow}\ Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}rs{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}ss{\isacharat}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}ss{\isacharat}{\kern0pt}rs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ rs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}antisym\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ss{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}ss{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}rs{\isacharat}{\kern0pt}ss{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ Node\ ts\ {\isacharless}{\kern0pt}\ Node\ rs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}ss{\isacharparenright}{\kern0pt}\ {\isasymle}\ Node\ {\isacharparenleft}{\kern0pt}rs{\isacharat}{\kern0pt}ss{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ Node\ ts\ {\isasymle}\ Node\ rs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharless}{\kern0pt}\ r\ {\isasymLongrightarrow}\ Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}t{\isacharhash}{\kern0pt}ss{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}r{\isacharhash}{\kern0pt}ss{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}append{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rs\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ Node\ ts\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}rs{\isacharat}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}cons{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ rs{\isacharparenright}{\kern0pt}\ fastforce{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}append{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ ts\ {\isasymle}\ Node\ {\isacharparenleft}{\kern0pt}ss{\isacharat}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ append{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymle}\ r\ {\isasymLongrightarrow}\ Node\ ts\ {\isasymle}\ Node\ rs\ {\isasymLongrightarrow}\ Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ Node\ {\isacharparenleft}{\kern0pt}rs{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Node\ {\isacharparenleft}{\kern0pt}ts{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ Node\ {\isacharparenleft}{\kern0pt}rs{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ t\ {\isacharless}{\kern0pt}\ r\ {\isasymor}\ {\isacharparenleft}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ r\ {\isasymand}\ Node\ ts\ {\isasymle}\ Node\ rs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ linorder{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}less\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}gr{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}eq\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}nested{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}nested{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharless}{\kern0pt}\ Node\ {\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}nested\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}nested{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymle}\ Node\ {\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}nested\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ r\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}ts\ t{\isacharprime}{\kern0pt}\ ss\ rs\ r{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}ss\ {\isacharat}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymand}\ r\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}ss\ {\isacharat}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ rs{\isacharparenright}{\kern0pt}\ {\isasymand}\ lexord{\isacharunderscore}{\kern0pt}tree\ t{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}ts\ rs{\isachardot}{\kern0pt}\ rs\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ Node\ ts\ {\isasymand}\ r\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}ts\ {\isacharat}{\kern0pt}\ rs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymlongleftrightarrow}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ lexord{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lexord{\isacharunderscore}{\kern0pt}tree\ t\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ ts\ \isakeyword{where}\ ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ Node\ ts{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ rs\ \isakeyword{where}\ rs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isacharequal}{\kern0pt}\ Node\ rs{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ r{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ ss\ ts{\isacharprime}{\kern0pt}\ rs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ prefix{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ts\ {\isacharequal}{\kern0pt}\ ss\ {\isacharat}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ {\isasymand}\ rs\ {\isacharequal}{\kern0pt}\ ss\ {\isacharat}{\kern0pt}\ rs{\isacharprime}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}ts{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymor}\ rs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymor}\ hd\ ts{\isacharprime}{\kern0pt}\ {\isasymnoteq}\ hd\ rs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ longest{\isacharunderscore}{\kern0pt}common{\isacharunderscore}{\kern0pt}prefix\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ts{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymor}\ lexord{\isacharunderscore}{\kern0pt}tree\ {\isacharparenleft}{\kern0pt}hd\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ rs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ lexord\ \isacommand{unfolding}\isamarkupfalse%
\ ts\ rs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ metis\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix\ prefix{\isacharcomma}{\kern0pt}\ metis\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix\ list{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ prefix\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ append{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral\ lexord\ lexord{\isacharunderscore}{\kern0pt}tree{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix\ list{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel\ rs\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}r\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ metis\ append{\isacharunderscore}{\kern0pt}Nil{\isadigit{2}}\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}prefix\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}\ tree{\isachardot}{\kern0pt}inject{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharless}{\kern0pt}\ r\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}ts\ t{\isacharprime}{\kern0pt}\ ss\ rs\ r{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}ts\ {\isacharat}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ss{\isacharparenright}{\kern0pt}\ {\isasymand}\ r\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}rs\ {\isacharat}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ss{\isacharparenright}{\kern0pt}\ {\isasymand}\ t{\isacharprime}{\kern0pt}\ {\isacharless}{\kern0pt}\ r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}ts\ rs{\isachardot}{\kern0pt}\ rs\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ Node\ ts\ {\isasymand}\ r\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}rs\ {\isacharat}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymlongleftrightarrow}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}mirror\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}mirror\ r{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ unfolded\ mirror{\isacharunderscore}{\kern0pt}iff{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ metis\ append{\isacharunderscore}{\kern0pt}Nil\ lexord{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ mirror{\isacharunderscore}{\kern0pt}mirror{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}r\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ order{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}trans\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}append{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ meson\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{1}}\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}append\ tree{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}cons{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isacharless}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ r\ {\isasymle}\ Node\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts\ arbitrary{\isacharcolon}{\kern0pt}\ r\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{1}}\ order{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}irrefl\ rev{\isacharunderscore}{\kern0pt}exhaust\ tree{\isachardot}{\kern0pt}exhaust\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}append\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}cons{\isadigit{2}}\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}snoc\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ rs\ \isakeyword{where}\ r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isacharequal}{\kern0pt}\ Node\ rs{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ tree{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ rs\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ r\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ rs{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}rs\ {\isacharequal}{\kern0pt}\ rs{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}r{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ snoc\ \isacommand{unfolding}\isamarkupfalse%
\ r\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ metis\ Cons{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}appendI\ order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}order\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ metis\ Cons{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}appendI\ less{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}comm{\isacharunderscore}{\kern0pt}suffix\ order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}order\ tree{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}snoc{\isadigit{2}}{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ regular\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}regular\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sorted\ ts\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}set\ ts{\isachardot}{\kern0pt}\ regular\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}trees\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ tree\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}n{\isacharunderscore}{\kern0pt}trees\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}size\ t\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}trees\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ tree\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}trees\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isasymin}n{\isacharunderscore}{\kern0pt}trees\ n{\isachardot}{\kern0pt}\ regular\ t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Rooted graphs%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ rpregraph\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ edge\ set{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ rgraph\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}system\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ r\isanewline
\ \ \isakeyword{assumes}\ root{\isacharunderscore}{\kern0pt}wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isasymin}\ V{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ rtree\ {\isacharequal}{\kern0pt}\ tree\ {\isacharplus}{\kern0pt}\ rgraph\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ subtrees\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ rpregraph\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}subtrees\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}let\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ remove{\isacharunderscore}{\kern0pt}vertex\ r\isanewline
\ \ \ \ in\ {\isacharparenleft}{\kern0pt}{\isasymlambda}C{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ C{\isacharcomma}{\kern0pt}\ THE\ r{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isasymin}\ C\ {\isasymand}\ vert{\isacharunderscore}{\kern0pt}adj\ r\ r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ulgraph{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}E\isactrlsub S{\isacharcomma}{\kern0pt}r\isactrlsub S{\isacharparenright}{\kern0pt}\ {\isasymin}\ subtrees{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rtree\ S\ E\isactrlsub S\ r\isactrlsub S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ ulsubgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\ E\ \isacommand{unfolding}\isamarkupfalse%
\ ulsubgraph{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ subtree\ ulgraph{\isacharunderscore}{\kern0pt}axioms\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}def\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ ulgraph{\isacharunderscore}{\kern0pt}axioms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ conn{\isacharunderscore}{\kern0pt}component{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subtree\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{unfolding}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ subgraph\ S\ E\isactrlsub S\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}subgraph\ subtree\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{unfolding}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ ulsubgraph\ S\ E\isactrlsub S\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ S{\isacharcolon}{\kern0pt}\ connected{\isacharunderscore}{\kern0pt}ulgraph\ S\ E\isactrlsub S\ \isacommand{using}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraphs\ conn{\isacharunderscore}{\kern0pt}component\ subtree\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{unfolding}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ S{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraph\ S\ E\isactrlsub S\ \isacommand{using}\isamarkupfalse%
\ subg{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}verts{\isacharunderscore}{\kern0pt}ss\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}finV\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ S{\isacharcolon}{\kern0pt}\ tree\ S\ E\isactrlsub S\ \isacommand{using}\isamarkupfalse%
\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}cycle{\isadigit{2}}\ subg{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}cycle{\isadigit{2}}\ no{\isacharunderscore}{\kern0pt}cycles\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}locales{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ theI{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ unique{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}vert{\isacharunderscore}{\kern0pt}removed{\isacharbrackleft}{\kern0pt}OF\ root{\isacharunderscore}{\kern0pt}wf\ remove{\isacharunderscore}{\kern0pt}vertex\ conn{\isacharunderscore}{\kern0pt}component{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ subtree\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ subtrees{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ subtrees{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ subgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\ E\ \isacommand{using}\isamarkupfalse%
\ subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}def\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ ulgraph{\isacharunderscore}{\kern0pt}axioms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{unfolding}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ remove{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ conn{\isacharunderscore}{\kern0pt}component{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}C\ {\isasymin}\ ulgraph{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rtree\ C\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ C{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}THE\ r{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isasymin}\ C\ {\isasymand}\ vert{\isacharunderscore}{\kern0pt}adj\ r\ r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ ulsubgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\ E\ \isacommand{unfolding}\isamarkupfalse%
\ ulsubgraph{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ remove{\isacharunderscore}{\kern0pt}vertex\ ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}def\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ ulgraph{\isacharunderscore}{\kern0pt}axioms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ ulsubgraph\ C\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ C{\isachardoublequoteclose}\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ conn{\isacharunderscore}{\kern0pt}component\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}subgraph\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ ulsubgraph{\isachardot}{\kern0pt}intro{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ C{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraph\ C\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraph{\isachardot}{\kern0pt}intro\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isachardot}{\kern0pt}intro\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \ \ \ \ \ \ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ subg{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ subg{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ conn{\isacharunderscore}{\kern0pt}component\isanewline
\ \ \ \ \ \ \ \ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraphs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ C{\isacharcolon}{\kern0pt}\ tree\ C\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ C{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}cycle{\isadigit{2}}\ subg{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}cycle{\isadigit{2}}\ no{\isacharunderscore}{\kern0pt}cycles\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}locales{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ theI{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ unique{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}vert{\isacharunderscore}{\kern0pt}removed{\isacharbrackleft}{\kern0pt}OF\ root{\isacharunderscore}{\kern0pt}wf\ remove{\isacharunderscore}{\kern0pt}vertex\ conn{\isacharunderscore}{\kern0pt}component{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ rpregraph\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ rpregraph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ V{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharparenright}{\kern0pt}\ f{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ E{\isacharcomma}{\kern0pt}\ f\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism\ {\isacharequal}{\kern0pt}\isanewline
\ \ G{\isacharcolon}{\kern0pt}\ rgraph\ V\isactrlsub G\ E\isactrlsub G\ r\isactrlsub G\ {\isacharplus}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub G\ E\isactrlsub G\ V\isactrlsub H\ E\isactrlsub H\ f\ \isakeyword{for}\ V\isactrlsub G\ E\isactrlsub G\ r\isactrlsub G\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H\ f\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ root{\isacharunderscore}{\kern0pt}preserving{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ r\isactrlsub G\ {\isacharequal}{\kern0pt}\ r\isactrlsub H{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}system\ V\isactrlsub H\ E\isactrlsub H%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}H\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rgraph\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}preserving\ bij{\isacharunderscore}{\kern0pt}f\ G{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}wf\ V\isactrlsub H{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ rgraph\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}H\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H\ V\isactrlsub G\ E\isactrlsub G\ r\isactrlsub G\ inv{\isacharunderscore}{\kern0pt}iso{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ iso{\isacharcolon}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub H\ E\isactrlsub H\ V\isactrlsub G\ E\isactrlsub G\ inv{\isacharunderscore}{\kern0pt}iso\ \isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}inv\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}wf\ inj{\isacharunderscore}{\kern0pt}f\ inv{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}def\ root{\isacharunderscore}{\kern0pt}preserving\ the{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}into{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}f\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ rpregraph\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ rpregraph\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymsimeq}\isactrlsub r{\isachardoublequoteclose}\ {\isadigit{5}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}V\isactrlsub G{\isacharcomma}{\kern0pt}E\isactrlsub G{\isacharcomma}{\kern0pt}r\isactrlsub G{\isacharparenright}{\kern0pt}\ {\isasymsimeq}\isactrlsub r\ {\isacharparenleft}{\kern0pt}V\isactrlsub H{\isacharcomma}{\kern0pt}E\isactrlsub H{\isacharcomma}{\kern0pt}r\isactrlsub H{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f{\isachardot}{\kern0pt}\ rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub G\ E\isactrlsub G\ r\isactrlsub G\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rgraph{\isacharparenright}{\kern0pt}\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}id{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\ E\ r\ V\ E\ r\ id{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}id\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isachardot}{\kern0pt}intro\ rgraph{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rgraph{\isacharparenright}{\kern0pt}\ rgraph{\isacharunderscore}{\kern0pt}isomorph{\isacharunderscore}{\kern0pt}refl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymsimeq}\isactrlsub r\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}id\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorph{\isacharunderscore}{\kern0pt}sym{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G\ {\isasymsimeq}\isactrlsub r\ H\ {\isasymLongrightarrow}\ H\ {\isasymsimeq}\isactrlsub r\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isachardot}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}inv\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ G{\isacharcomma}{\kern0pt}\ cases\ H{\isacharparenright}{\kern0pt}\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub G\ E\isactrlsub G\ r\isactrlsub G\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H\ f\ {\isasymLongrightarrow}\ rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub H\ E\isactrlsub H\ r\isactrlsub H\ V\isactrlsub F\ E\isactrlsub F\ r\isactrlsub F\ g\ {\isasymLongrightarrow}\ rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\isactrlsub G\ E\isactrlsub G\ r\isactrlsub G\ V\isactrlsub F\ E\isactrlsub F\ r\isactrlsub F\ {\isacharparenleft}{\kern0pt}g\ o\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}trans\ \isacommand{unfolding}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}def\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorph{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}transp\ {\isacharparenleft}{\kern0pt}{\isasymsimeq}\isactrlsub r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}trans\ \isacommand{unfolding}\isamarkupfalse%
\ transp{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ rgraph{\isacharunderscore}{\kern0pt}isomorphis{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ V\ {\isasymLongrightarrow}\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ rgraph{\isacharunderscore}{\kern0pt}isomorphism\ V\ E\ r\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ rgraph{\isacharunderscore}{\kern0pt}isomorph{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ V\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}\ E{\isacharcomma}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isasymsimeq}\isactrlsub r\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}\ E{\isacharcomma}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphis{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}iso\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{datatype}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ ltree\ {\isacharequal}{\kern0pt}\ LNode\ {\isacharprime}{\kern0pt}a\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ list{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}size\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isasymSum}t{\isasymleftarrow}ts{\isachardot}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}size\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}ltree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}t{\isasymin}set\ ts{\isachardot}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}ltree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ ltree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}ltree\ f\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ LNode\ {\isacharparenleft}{\kern0pt}f\ r{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree\ f{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}LNode\ a\ ts{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}set\ ts{\isachardot}{\kern0pt}\ a\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isasymand}\ distinct\ ts\ {\isasymand}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}set\ ts{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}set\ ts{\isachardot}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ tree\ {\isasymRightarrow}\ nat\ {\isasymtimes}\ nat\ ltree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ LNode\ n\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t\ in\isanewline
\ \ \ \ case\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ LNode\ r\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ LNode\ r\ {\isacharparenleft}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharhash}{\kern0pt}ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ nat\ ltree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label\ t\ {\isacharequal}{\kern0pt}\ snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isadigit{0}}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ tree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}map\ tree{\isacharunderscore}{\kern0pt}ltree\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}ltree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ s{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasymle}\ tree{\isacharunderscore}{\kern0pt}ltree\ s{\isacharparenright}{\kern0pt}\ ts\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}set\ ts{\isachardot}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{datatype}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ stree\ {\isacharequal}{\kern0pt}\ SNode\ {\isacharprime}{\kern0pt}a\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ fset{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}lt{\isacharbrackleft}{\kern0pt}termination{\isacharunderscore}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharbar}{\kern0pt}{\isasymin}{\isacharbar}{\kern0pt}\ ts\ {\isasymLongrightarrow}\ size\ t\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isasymSum}s{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}size\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}nonneg{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}bound\ zero{\isacharunderscore}{\kern0pt}le\ finite{\isacharunderscore}{\kern0pt}fset\ fmember{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ less{\isacharunderscore}{\kern0pt}SucI\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}lt{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}termination{\isacharunderscore}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ fset\ ts\ {\isasymLongrightarrow}\ size\ t\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isasymSum}s{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}size\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}child{\isacharunderscore}{\kern0pt}lt\ fmember{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}size\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}fsum\ stree{\isacharunderscore}{\kern0pt}size\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}strees\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ stree\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}n{\isacharunderscore}{\kern0pt}strees\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isachardot}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}size\ t\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}SNode\ a\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}SNode\ a\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ edge\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}SNode\ a\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}t{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}SNode\ a\ ts{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ a\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isasymand}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ ltree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ LNode\ r\ {\isacharparenleft}{\kern0pt}SOME\ xs{\isachardot}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ xs\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharbar}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbar}{\kern0pt}\ ts\ {\isasymand}\ distinct\ xs\ {\isasymand}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ s{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasymle}\ tree{\isacharunderscore}{\kern0pt}ltree\ s{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ stree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SNode\ r\ {\isacharparenleft}{\kern0pt}fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ stree{\isacharunderscore}{\kern0pt}ltree\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ rpregraph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharcomma}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ rpregraph\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ stree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ rtree\ V\ E\ r\ then\ undefined\ else\isanewline
\ \ \ \ SNode\ r\ {\isacharparenleft}{\kern0pt}Abs{\isacharunderscore}{\kern0pt}fset\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ rtree{\isachardot}{\kern0pt}subtrees\ V\ E\ r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ pat{\isacharunderscore}{\kern0pt}completeness\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{termination}\isamarkupfalse%
\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}relation\ {\isachardoublequoteopen}measure\ {\isacharparenleft}{\kern0pt}{\isasymlambda}p{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ r\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ \isakeyword{and}\ V\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\ E\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ edge\ set{\isachardoublequoteclose}\ \isakeyword{and}\ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\ E\isactrlsub S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ edge\ set{\isachardoublequoteclose}\ \isakeyword{and}\ r\isactrlsub S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ rtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rtree\ V\ E\ r{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}\ E\isactrlsub S{\isacharcomma}{\kern0pt}\ r\isactrlsub S{\isacharparenright}{\kern0pt}\ {\isasymin}\ rtree{\isachardot}{\kern0pt}subtrees\ V\ E\ r{\isachardoublequoteclose}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ rtree\ V\ E\ r\ \isacommand{using}\isamarkupfalse%
\ rtree\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ subgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\ E\ \isacommand{using}\isamarkupfalse%
\ subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isachardot}{\kern0pt}intro\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subtree\ remove{\isacharunderscore}{\kern0pt}vertex\ \isacommand{unfolding}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}C{\isacharunderscore}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}card\ S\ {\isasymle}\ card\ V{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}wf\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}finV\ card{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ V{\isacharprime}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ V{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ remove{\isacharunderscore}{\kern0pt}vertex\ root{\isacharunderscore}{\kern0pt}wf\ finV\ card{\isacharunderscore}{\kern0pt}Diff{\isadigit{1}}{\isacharunderscore}{\kern0pt}less\ \isacommand{unfolding}\isamarkupfalse%
\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ S\ {\isacharless}{\kern0pt}\ card\ V{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}C{\isacharunderscore}{\kern0pt}V{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ nat\ rpregraph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ t\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ stree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}stree\ f\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SNode\ {\isacharparenleft}{\kern0pt}f\ r{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbar}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{ltree lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{stree lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ t\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t\ {\isasymLongrightarrow}\ e\ {\isasymsubseteq}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ e\ {\isasymin}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t\ {\isasymLongrightarrow}\ card\ e\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ card{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ fast{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t\ rule{\isacharcolon}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree{\isachardot}{\kern0pt}cases{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharparenright}{\kern0pt}\ f{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}image\ image{\isacharunderscore}{\kern0pt}Un\ image{\isacharunderscore}{\kern0pt}Union{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}xs{\isachardot}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ xs\ {\isacharequal}{\kern0pt}\ A\ {\isasymand}\ distinct\ xs\ {\isasymand}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder{\isacharparenright}{\kern0pt}\ {\isasymle}\ f\ s{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ xs\ \isakeyword{where}\ {\isachardoublequoteopen}fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ xs\ {\isacharequal}{\kern0pt}\ A\ {\isasymand}\ distinct\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}list\ finite{\isacharunderscore}{\kern0pt}fset\ fset{\isacharunderscore}{\kern0pt}cong\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}sort{\isacharunderscore}{\kern0pt}key\ f\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A\ {\isasymand}\ distinct\ {\isacharparenleft}{\kern0pt}sort{\isacharunderscore}{\kern0pt}key\ f\ xs{\isacharparenright}{\kern0pt}\ {\isasymand}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ s{\isachardot}{\kern0pt}\ f\ t\ {\isasymle}\ f\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort{\isacharunderscore}{\kern0pt}key\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}key\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}map\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}abs{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ ts\ {\isasymequiv}\ SOME\ xs{\isachardot}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ xs\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharbar}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbar}{\kern0pt}\ ts\ {\isasymand}\ distinct\ xs\ {\isasymand}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ s{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasymle}\ tree{\isacharunderscore}{\kern0pt}ltree\ s{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ someI{\isacharunderscore}{\kern0pt}ex{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}list{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharbar}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbar}{\kern0pt}\ ts{\isachardoublequoteclose}\ tree{\isacharunderscore}{\kern0pt}ltree{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ fset{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharbar}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbar}{\kern0pt}\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ someI{\isacharunderscore}{\kern0pt}ex{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ someI{\isacharunderscore}{\kern0pt}ex{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ s{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasymle}\ tree{\isacharunderscore}{\kern0pt}ltree\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ someI{\isacharunderscore}{\kern0pt}ex{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ \ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fset{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}ident{\isacharunderscore}{\kern0pt}strong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}\ E{\isacharcomma}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ V\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}stree\ f\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree\ f\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}elem{\isacharcomma}{\kern0pt}\ metis\ comp{\isacharunderscore}{\kern0pt}apply\ fimage{\isacharunderscore}{\kern0pt}eqI\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}elem{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}ltree\ f\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}\ {\isasymLongrightarrow}\ relabel{\isacharunderscore}{\kern0pt}stree\ f\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}ltree\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}iff\ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ fastforce{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}axioms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ V\ E\ r\ rule{\isacharcolon}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ V\isactrlsub T\ E\isactrlsub T\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ t{\isacharcolon}{\kern0pt}\ rtree\ V\isactrlsub T\ E\isactrlsub T\ r\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ VE{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ subgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\isactrlsub T\ E\isactrlsub T\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ VE{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isachardot}{\kern0pt}intro\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ t{\isachardot}{\kern0pt}fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ t{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V\isactrlsub T{\isacharcomma}{\kern0pt}\ E\isactrlsub T{\isacharcomma}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ V{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{using}\isamarkupfalse%
\ VE{\isacharprime}{\kern0pt}\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}Union{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Abs{\isacharunderscore}{\kern0pt}fset{\isacharunderscore}{\kern0pt}inverse\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ VE{\isacharprime}{\kern0pt}\ t{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}wf\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}axioms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ V\ E\ r\ rule{\isacharcolon}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ V\isactrlsub T\ E\isactrlsub T\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ t{\isacharcolon}{\kern0pt}\ rtree\ V\isactrlsub T\ E\isactrlsub T\ r\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ VE{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ subgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\isactrlsub T\ E\isactrlsub T\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ VE{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isachardot}{\kern0pt}intro\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ t{\isachardot}{\kern0pt}fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ t{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ fset{\isacharunderscore}{\kern0pt}Abs{\isacharunderscore}{\kern0pt}fset{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fset\ {\isacharparenleft}{\kern0pt}Abs{\isacharunderscore}{\kern0pt}fset\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Abs{\isacharunderscore}{\kern0pt}fset{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}e{\isasymin}E\isactrlsub T{\isachardot}{\kern0pt}\ r\ {\isasymin}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\ \isakeyword{for}\ e\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ r{\isacharprime}{\kern0pt}\ \isakeyword{where}\ e{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ r{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}e{\isasymin}{\isacharquery}{\kern0pt}r{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ CollectD\ insert{\isacharunderscore}{\kern0pt}commute\ insert{\isacharunderscore}{\kern0pt}iff\ singleton{\isacharunderscore}{\kern0pt}iff\ t{\isachardot}{\kern0pt}obtain{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}adj{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isacharprime}{\kern0pt}\ {\isasymnoteq}\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}singleton{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}edge\ {\isacartoucheopen}e{\isasymin}{\isacharquery}{\kern0pt}r{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isacharprime}{\kern0pt}\ {\isasymin}\ V{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ e\ {\isacartoucheopen}e{\isasymin}{\isacharquery}{\kern0pt}r{\isacartoucheclose}\ VE{\isacharprime}{\kern0pt}\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ t{\isachardot}{\kern0pt}wellformed{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}snd\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ C\ \isakeyword{where}\ C{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}component{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}C\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}r{\isacharprime}{\kern0pt}\ {\isasymin}\ C{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}Union{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj\ r\ r{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}e{\isasymin}{\isacharquery}{\kern0pt}r{\isacartoucheclose}\ e\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}THE\ r{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isasymin}\ C\ {\isasymand}\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj\ r\ r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}unique{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}vert{\isacharunderscore}{\kern0pt}removed{\isacharbrackleft}{\kern0pt}OF\ t{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}wf\ VE{\isacharprime}{\kern0pt}\ C{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}component{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}r{\isacharprime}{\kern0pt}{\isasymin}C{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ e\ {\isacartoucheopen}r{\isacharprime}{\kern0pt}{\isasymin}C{\isacartoucheclose}\ C{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}component\ rtree{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ VE{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}unique{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}vert{\isacharunderscore}{\kern0pt}removed{\isacharbrackleft}{\kern0pt}OF\ t{\isachardot}{\kern0pt}root{\isacharunderscore}{\kern0pt}wf\ VE{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ VE{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ theI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}S{\isasymin}t{\isachardot}{\kern0pt}subtrees{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ VE{\isacharprime}{\kern0pt}\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}Union{\isacharunderscore}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V\isactrlsub T{\isacharcomma}{\kern0pt}E\isactrlsub T{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}e{\isasymin}E\isactrlsub T{\isachardot}{\kern0pt}\ r\ {\isasymin}\ e{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ E{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}edges\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ VE{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ t{\isachardot}{\kern0pt}incident{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
tree_graph t is actually a rooted tree%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}\ {\isasymge}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split\ ltree{\isachardot}{\kern0pt}split{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymge}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ arbitrary{\isacharcolon}{\kern0pt}\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ ltree{\isachardot}{\kern0pt}splits{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}conv\ le{\isacharunderscore}{\kern0pt}SucI\ order{\isachardot}{\kern0pt}trans\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymle}\ n{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ arbitrary{\isacharcolon}{\kern0pt}\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ ltree{\isachardot}{\kern0pt}splits{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ metis\ Suc{\isacharunderscore}{\kern0pt}leD\ fst{\isacharunderscore}{\kern0pt}conv\ order{\isacharunderscore}{\kern0pt}trans\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}mono{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ blast{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ r\ ts{\isacharprime}{\kern0pt}\ \isakeyword{where}\ ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ LNode\ r\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}iff\ ltree{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymge}\ Suc\ n{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ t{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharhash}{\kern0pt}ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ t{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge{\isacharbrackleft}{\kern0pt}OF\ ts{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ meson\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ root{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}wf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharhash}{\kern0pt}ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ t{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge{\isacharbrackleft}{\kern0pt}OF\ ts{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ meson\ disjoint{\isacharunderscore}{\kern0pt}iff\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ r{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ fast{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}edges\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}SNode\ a\ ts{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ disjnt\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}t{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ distinct{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}edges{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ disjnt{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}insert{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ blast{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ metis\ Suc{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ card{\isachardot}{\kern0pt}empty\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}distinct\ disjoint{\isacharunderscore}{\kern0pt}iff\ equals{\isadigit{0}}I\ nat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ card\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ a\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}SNode\ a\ ts{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}edges\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}edges\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}t{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}image\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isasymUnion}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Union\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ finite{\isacharunderscore}{\kern0pt}fset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharquery}{\kern0pt}t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}disjoint\ finite{\isacharunderscore}{\kern0pt}Un\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isasymSum}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}disjoint{\isacharprime}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ finite{\isacharunderscore}{\kern0pt}fset\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}{\isasymSum}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}commute\ sum{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}t{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}t{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}edges\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}edges\ card{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}disjoint{\isacharprime}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharquery}{\kern0pt}r\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}Un{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}r\ {\isasymunion}\ {\isacharquery}{\kern0pt}Un{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ disjnt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjnt\ {\isacharquery}{\kern0pt}r\ {\isacharquery}{\kern0pt}Un{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}iff\ distinct{\isacharunderscore}{\kern0pt}edges\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjnt{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ disjnt{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ tree\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ a\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}SNode\ a\ ts{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharquery}{\kern0pt}t\ {\isasymLongrightarrow}\ {\isadigit{0}}\ {\isacharless}{\kern0pt}\ card\ e\ {\isasymand}\ card\ e\ {\isasymle}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}distinct\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ order{\isacharunderscore}{\kern0pt}refl\ pos{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}locales{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected\ a\ v{\isachardoublequoteclose}\ \isakeyword{if}\ t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\ \isakeyword{and}\ v{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ \isakeyword{for}\ t\ v\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{interpret}\isamarkupfalse%
\ t{\isacharcolon}{\kern0pt}\ tree\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ t\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ ulsubgraph\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ conn{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}v{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subg{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected\ v\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ t{\isachardot}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}connected\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected\ a\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}neighbors\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ conn{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}v\ g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}trans\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharquery}{\kern0pt}t{\isachardot}{\kern0pt}\ g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected\ a\ v{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}id\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharquery}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}trans\ g{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}rev\ \isacommand{unfolding}\isamarkupfalse%
\ g{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraph\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}E{\isacharunderscore}{\kern0pt}treeI\ card{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}edges\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ g{\isachardot}{\kern0pt}fin{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rtree\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ tree\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ tree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ rtree\ V\ E\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ rtree\ V\ E\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ fast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Cardinality of the resulting rooted tree is correct%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split\ ltree{\isachardot}{\kern0pt}split{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}nodes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ ltree{\isacharunderscore}{\kern0pt}size\ t\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ LNode\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}image\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}disjoint{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}nodes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ stree{\isacharunderscore}{\kern0pt}size\ t\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}{\isasymUnion}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ SNode\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}image\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fsum{\isachardot}{\kern0pt}F{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq\ card{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}disjoint{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ stree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}nodes\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}nodes{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ card\ V\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}nodes{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ nodes{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ card\ V\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
tree_graph is surjective with respect to isomorphism%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}termination{\isacharunderscore}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ ts\ ss{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ size\ t\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}size{\isacharunderscore}{\kern0pt}list\ size\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ less{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}refl\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD\ size{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}estimation{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ obtain{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}isomorphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ ltree\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isasymrightharpoonup}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}obtain{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}isomorphism\ {\isacharparenleft}{\kern0pt}LNode\ r{\isadigit{1}}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}LNode\ r{\isadigit{2}}\ ss{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fold\ {\isacharparenleft}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map{\isadigit{2}}\ obtain{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}isomorphism\ ts\ ss{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}r{\isadigit{1}}{\isasymmapsto}r{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ nat\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}LNode\ r\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}n\ {\isasymmapsto}\ r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}LNode\ r\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f\isactrlsub t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f\isactrlsub t\isactrlsub s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f\isactrlsub t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f\isactrlsub t\isactrlsub s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}relabel\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ ltree\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel\ t\ {\isacharequal}{\kern0pt}\ snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isadigit{0}}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fst\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split\ ltree{\isachardot}{\kern0pt}split{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ r\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}eqD\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ts{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ \isakeyword{where}\ ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}eqD\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel\ ltree{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}t\ f{\isacharunderscore}{\kern0pt}ts\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ran{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ r\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dom\ f{\isacharunderscore}{\kern0pt}t\ {\isasyminter}\ dom\ f{\isacharunderscore}{\kern0pt}ts\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ f{\isacharunderscore}{\kern0pt}t\ f{\isacharunderscore}{\kern0pt}ts\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ disjoint{\isacharunderscore}{\kern0pt}iff\ fst{\isacharunderscore}{\kern0pt}eqD\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge\isanewline
\ \ \ \ \ \ \ \ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}t\ f{\isacharunderscore}{\kern0pt}ts\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}add{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardot}{\kern0pt}\ f\ v\ {\isacharequal}{\kern0pt}\ g\ v\ {\isasymLongrightarrow}\ relabel{\isacharunderscore}{\kern0pt}ltree\ f\ t\ {\isacharequal}{\kern0pt}\ relabel{\isacharunderscore}{\kern0pt}ltree\ g\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}the\ o\ snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ r\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}eqD\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ts{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ \isakeyword{where}\ ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}eqD\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel\ ltree{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ts{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymin}\ dom\ f{\isacharunderscore}{\kern0pt}ts{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts\ ts{\isacharprime}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymnotin}\ dom\ f{\isacharunderscore}{\kern0pt}ts{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}t\ f{\isacharunderscore}{\kern0pt}ts\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ relabel{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}eq\ simp{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ relabel{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}the\ o\ postorder{\isacharunderscore}{\kern0pt}relabel\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}def\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}the\ o\ snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ r\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}set\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}eqD\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ts{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ \isakeyword{where}\ ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}eqD\ prod{\isachardot}{\kern0pt}exhaust{\isacharunderscore}{\kern0pt}sel\ ltree{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ dom\ f{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}t\ t{\isacharprime}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ order{\isacharunderscore}{\kern0pt}refl\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymnotin}\ dom\ f{\isacharunderscore}{\kern0pt}ts{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts\ ts{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ ts{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ f{\isacharunderscore}{\kern0pt}t\ t{\isacharprime}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}ts\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}cong\ f{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ts{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymin}\ dom\ f{\isacharunderscore}{\kern0pt}ts{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts\ ts{\isacharprime}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ ts{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ f{\isacharunderscore}{\kern0pt}t\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}ts\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}cong\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymsubseteq}\ ran\ f{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ ran{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ f{\isacharunderscore}{\kern0pt}t\ ran{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymsubseteq}\ ran\ f{\isacharunderscore}{\kern0pt}ts{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ ts{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}ts\ ran{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ f{\isacharunderscore}{\kern0pt}ts\ ran{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}aux\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasyminter}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}v{\isachardot}{\kern0pt}\ the\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}t\ {\isacharplus}{\kern0pt}{\isacharplus}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ t{\isacharprime}{\kern0pt}\ {\isasymunion}\ nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}LNode\ r{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}ts{\isacharprime}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}Un\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}t\ t{\isacharprime}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}ts\ ts{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}the\ o\ postorder{\isacharunderscore}{\kern0pt}relabel\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}def\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}inj\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}axioms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ V\ E\ r\ rule{\isacharcolon}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ V\isactrlsub T\ E\isactrlsub T\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ t{\isacharcolon}{\kern0pt}\ rtree\ V\isactrlsub T\ E\isactrlsub T\ r\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ VE{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ subgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ V\isactrlsub T\ E\isactrlsub T\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ VE{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}ulgraph{\isachardot}{\kern0pt}intro\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subgraph\ t{\isachardot}{\kern0pt}fin{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ t{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ fset{\isacharunderscore}{\kern0pt}Abs{\isacharunderscore}{\kern0pt}fset{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fset\ {\isacharparenleft}{\kern0pt}Abs{\isacharunderscore}{\kern0pt}fset\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Abs{\isacharunderscore}{\kern0pt}fset{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}t{\isachardot}{\kern0pt}subtrees{\isachardot}{\kern0pt}\ r\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{assume}\isamarkupfalse%
\ subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ t{\isachardot}{\kern0pt}subtrees{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ S\ E\isactrlsub S\ r\isactrlsub S\ \isakeyword{where}\ s{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}E\isactrlsub S{\isacharcomma}{\kern0pt}r\isactrlsub S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ s{\isacharcolon}{\kern0pt}\ rtree\ S\ E\isactrlsub S\ r\isactrlsub S\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ subtree\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subtree\ VE{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ s\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}E\isactrlsub S{\isacharcomma}{\kern0pt}r\isactrlsub S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ V{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ s{\isachardot}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}wf\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ VE{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ s\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ s{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s{\isadigit{1}}\ {\isasymin}\ t{\isachardot}{\kern0pt}subtrees{\isachardoublequoteclose}\ \isakeyword{and}\ s{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s{\isadigit{2}}\ {\isasymin}\ t{\isachardot}{\kern0pt}subtrees{\isachardoublequoteclose}\ \isakeyword{and}\ ne{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isadigit{1}}\ {\isasymnoteq}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isadigit{2}}{\isachardoublequoteclose}\ \isakeyword{for}\ s{\isadigit{1}}\ s{\isadigit{2}}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isadigit{1}}\ E{\isadigit{1}}\ r{\isadigit{1}}\ \isakeyword{where}\ s{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isadigit{1}}{\isacharcomma}{\kern0pt}E{\isadigit{1}}{\isacharcomma}{\kern0pt}r{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ s{\isadigit{1}}{\isacharcolon}{\kern0pt}\ rtree\ V{\isadigit{1}}\ E{\isadigit{1}}\ r{\isadigit{1}}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ s{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ V{\isadigit{1}}{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}V{\isadigit{1}}\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ s{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree\ VE{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ s{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ s{\isadigit{1}}{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ s{\isadigit{1}}\ \isacommand{using}\isamarkupfalse%
\ s{\isadigit{1}}{\isachardot}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isadigit{2}}\ E{\isadigit{2}}\ r{\isadigit{2}}\ \isakeyword{where}\ s{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isadigit{2}}{\isacharcomma}{\kern0pt}E{\isadigit{2}}{\isacharcomma}{\kern0pt}r{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ s{\isadigit{2}}{\isacharcolon}{\kern0pt}\ rtree\ V{\isadigit{2}}\ E{\isadigit{2}}\ r{\isadigit{2}}\ \isacommand{using}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ s{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ V{\isadigit{2}}{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}V{\isadigit{2}}\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ s{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree\ VE{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ s{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}V{\isadigit{1}}\ {\isasymnoteq}\ V{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ s{\isadigit{1}}\ s{\isadigit{2}}\ s{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree\ s{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree\ VE{\isacharprime}{\kern0pt}\ ne\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}V{\isadigit{1}}\ {\isasyminter}\ V{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ V{\isadigit{1}}{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comp\ V{\isadigit{2}}{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comp\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ \isacommand{unfolding}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ s{\isadigit{1}}\ s{\isadigit{2}}\ s{\isadigit{1}}{\isachardot}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ s{\isadigit{2}}{\isachardot}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharbackquote}{\kern0pt}\ t{\isachardot}{\kern0pt}subtrees{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\ r{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ disintct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ metis\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsimeq}\isactrlsub r\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ t\ \isakeyword{where}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ s\ \isakeyword{where}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ l\ \isakeyword{where}\ {\isachardoublequoteopen}l\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ l{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}l{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ s{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}s{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}ltree\ l{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ rtree\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}def\ t{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ s{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ l{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}nodes\ l{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ disintct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ l{\isacharunderscore}{\kern0pt}def\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}l{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ltree\ l{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ relabel{\isacharunderscore}{\kern0pt}l{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}ltree\ f\ l{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ l{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}relabel\ relabel{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}inj\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}stree\ f\ s{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ l{\isacharunderscore}{\kern0pt}def\ s{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ s{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}l{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ V{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsimeq}\isactrlsub r\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}iso\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorph{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}iso\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}V{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ s{\isacharunderscore}{\kern0pt}def\ l{\isacharunderscore}{\kern0pt}def\ l{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ s{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ t{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ V{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}nodes\ del{\isacharcolon}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj\ ltree{\isacharunderscore}{\kern0pt}stree{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ t{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ t{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ \ ltree{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isadigit{1}}\ arbitrary{\isacharcolon}{\kern0pt}\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}SNode\ r{\isadigit{1}}\ ts{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ r{\isadigit{2}}\ ts{\isadigit{2}}\ \isakeyword{where}\ t{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ SNode\ r{\isadigit{2}}\ ts{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ stree{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ SNode\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ metis\ SNode{\isachardot}{\kern0pt}prems\ stree{\isachardot}{\kern0pt}inject\ stree{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ltree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ltree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackright}{\kern0pt}\ fsum{\isachardot}{\kern0pt}F{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ stree{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ sum{\isachardot}{\kern0pt}reindex{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ltree{\isacharunderscore}{\kern0pt}size\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ metis\ comp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}dest{\isacharunderscore}{\kern0pt}lhs\ map{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}subtrees\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}ltree\ t\ {\isasymLongrightarrow}\ regular\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}tree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}trees\ {\isacharparenleft}{\kern0pt}card\ V{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}t\ {\isasymin}\ {\isacharquery}{\kern0pt}A{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ size{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}size\ {\isacharquery}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ card\ V{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}regular\ {\isacharquery}{\kern0pt}t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}stree\ regular{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}ltree\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ size{\isacharunderscore}{\kern0pt}t\ \isacommand{unfolding}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}trees{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}trees{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rtree{\isacharparenright}{\kern0pt}\ ex{\isacharunderscore}{\kern0pt}regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}tree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}t{\isasymin}regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}trees\ {\isacharparenleft}{\kern0pt}card\ V{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph\ t\ {\isasymsimeq}\isactrlsub r\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ tree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}regular{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}tree\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Injectivity with respect to isomorphism%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Lemmas relating the connected components of the tree graph with the root removed to the subtrees of an stree.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{context}\isamarkupfalse%
\isanewline
\ \ \isakeyword{fixes}\ t\ r\ ts\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ SNode\ r\ ts{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isacharparenright}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ t{\isacharcolon}{\kern0pt}\ rtree\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\ r%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharbrackright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ subg{\isacharcolon}{\kern0pt}\ ulsubgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ remove{\isacharunderscore}{\kern0pt}vertex\ t{\isachardot}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ t{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ ulsubgraph{\isacharunderscore}{\kern0pt}def\ t\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ ulgraph\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ subg{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}ulgraph\ t{\isachardot}{\kern0pt}ulgraph{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ neighborhood{\isacharunderscore}{\kern0pt}root{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}neighborhood\ r\ {\isacharequal}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}neighborhood{\isacharunderscore}{\kern0pt}def\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ t\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ blast{\isacharcomma}{\kern0pt}\ fastforce{\isacharcomma}{\kern0pt}\ blast{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}V{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ remove{\isacharunderscore}{\kern0pt}vertex\ distinct{\isacharunderscore}{\kern0pt}nodes\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ E{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}E{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ distinct{\isacharunderscore}{\kern0pt}nodes\ remove{\isacharunderscore}{\kern0pt}vertex\ t\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def\ t{\isachardot}{\kern0pt}incident{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}connected{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ e{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ E{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ u{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}s{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ s{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ e\ u{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}s\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ distinct{\isacharunderscore}{\kern0pt}nodes\ t\ \isacommand{unfolding}\isamarkupfalse%
\ E{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}absorb\ insert{\isacharunderscore}{\kern0pt}disjoint{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}subset\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ u{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}s\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subtree{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ s\ {\isasymin}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ s{\isacharcolon}{\kern0pt}\ rtree\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ s{\isachardoublequoteclose}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ distinct{\isacharunderscore}{\kern0pt}nodes\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ t\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ subg{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ ulsubgraph\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ s{\isachardoublequoteclose}\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ t\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ conn{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ s{\isachardot}{\kern0pt}connected\ subg{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}connected\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}component\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ connected{\isacharunderscore}{\kern0pt}components{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}ts{\isacharunderscore}{\kern0pt}ss{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comps{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts\ {\isasymsubseteq}\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subtree{\isacharunderscore}{\kern0pt}connected{\isacharunderscore}{\kern0pt}components\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ V{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ t\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ g{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comps{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}Union{\isacharbrackleft}{\kern0pt}OF\ nodes{\isacharunderscore}{\kern0pt}ts{\isacharunderscore}{\kern0pt}ss{\isacharunderscore}{\kern0pt}conn{\isacharunderscore}{\kern0pt}comps\ Un{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}ts{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ induced{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}system{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges\ E{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}e\ {\isasymin}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ e\ {\isasymsubseteq}\ nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subg{\isachardot}{\kern0pt}H{\isachardot}{\kern0pt}induced{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}def\ E{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ distinct{\isacharunderscore}{\kern0pt}nodes\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ t\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ metis\ card{\isachardot}{\kern0pt}empty\ card{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}distinct\ inf{\isachardot}{\kern0pt}bounded{\isacharunderscore}{\kern0pt}iff\ nat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ numeral{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ subset{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}THE\ r{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharparenright}{\kern0pt}\ {\isasymand}\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj\ r\ r{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ s\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ s\ {\isasymand}\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj\ r\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ t\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ r{\isacharprime}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ r{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r{\isacharprime}{\kern0pt}\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ s\ {\isasymand}\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj\ r\ r{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ edge{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}edges{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ r{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}vert{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}wf\ t\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s{\isacharprime}{\kern0pt}{\isasymin}fset\ ts{\isachardot}{\kern0pt}\ s{\isacharprime}{\kern0pt}\ {\isasymnoteq}\ s\ {\isasymlongrightarrow}\ r{\isacharprime}{\kern0pt}\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}stree\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ s{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ts\ r{\isacharprime}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ t\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ root{\isacharunderscore}{\kern0pt}stree\ s{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ edge{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}root{\isacharunderscore}{\kern0pt}edges\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subtrees{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}subtrees\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ t{\isachardot}{\kern0pt}subtrees{\isacharunderscore}{\kern0pt}def\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ remove{\isacharunderscore}{\kern0pt}vertex\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ connected{\isacharunderscore}{\kern0pt}components{\isacharunderscore}{\kern0pt}subtrees\ image{\isacharunderscore}{\kern0pt}comp\ induced{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}subtree\ root{\isacharunderscore}{\kern0pt}subtree{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ t\ \isakeyword{where}\ t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ SNode\ r\ ts{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ root{\isacharunderscore}{\kern0pt}t{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ SNode{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ t\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ t{\isacharcolon}{\kern0pt}\ rtree\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isachardoublequoteclose}\ r\ \isacommand{using}\isamarkupfalse%
\ SNode{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ root{\isacharunderscore}{\kern0pt}stree{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V{\isacharprime}{\kern0pt}\ E{\isacharprime}{\kern0pt}\ \isakeyword{where}\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isachardot}{\kern0pt}remove{\isacharunderscore}{\kern0pt}vertex\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}E{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SNode\ r\ ts{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ SNode\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}axioms\ t{\isachardot}{\kern0pt}rtree{\isacharunderscore}{\kern0pt}subtree\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ subtrees{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackleft}{\kern0pt}OF\ t\ distinct{\isacharunderscore}{\kern0pt}t\ remove{\isacharunderscore}{\kern0pt}vertex{\isacharbrackright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}comp\ fset{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{unfolding}\isamarkupfalse%
\ t\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}relabel{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}UN\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ metis\ IntI\ empty{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}relabel{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharparenright}{\kern0pt}\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ f\ {\isacharparenleft}{\kern0pt}V\isactrlsub G{\isacharcomma}{\kern0pt}E\isactrlsub G{\isacharcomma}{\kern0pt}r\isactrlsub G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V\isactrlsub H{\isacharcomma}{\kern0pt}E\isactrlsub H{\isacharcomma}{\kern0pt}r\isactrlsub H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ bij{\isacharunderscore}{\kern0pt}f\ edge{\isacharunderscore}{\kern0pt}preserving\ root{\isacharunderscore}{\kern0pt}preserving\ \isacommand{unfolding}\isamarkupfalse%
\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graphs{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}strees{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}\ {\isasymsimeq}\isactrlsub r\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharunderscore}{\kern0pt}t{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharunderscore}{\kern0pt}t{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ {\isachardoublequoteopen}rgraph{\isacharunderscore}{\kern0pt}isomorphism\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}root{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ rgraph{\isacharunderscore}{\kern0pt}isomorphism\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}edges\ t{\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}root{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isachardoublequoteclose}\ f\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bij{\isacharunderscore}{\kern0pt}f\ bij{\isacharunderscore}{\kern0pt}betw{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relabel{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}t{\isadigit{1}}\ inj{\isacharbrackright}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ app{\isacharunderscore}{\kern0pt}rgraph{\isacharunderscore}{\kern0pt}isomorphism{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stree{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}t{\isadigit{2}}{\isacharcomma}{\kern0pt}\ unfolded\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ inj\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Skip the ltree representation as it introduces complications with the proof%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ stree\ {\isasymRightarrow}\ tree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Node\ {\isacharparenleft}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}multiset\ {\isacharparenleft}{\kern0pt}image{\isacharunderscore}{\kern0pt}mset\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ tree\ {\isasymRightarrow}\ nat\ {\isasymtimes}\ nat\ stree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}Node\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ SNode\ n\ {\isacharbraceleft}{\kern0pt}{\isacharbar}{\kern0pt}{\isacharbar}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}t{\isacharhash}{\kern0pt}ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t\ in\isanewline
\ \ \ \ case\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ SNode\ r\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ SNode\ r\ {\isacharparenleft}{\kern0pt}finsert\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree\ {\isasymRightarrow}\ nat\ stree{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ {\isadigit{0}}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fst\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split\ stree{\isachardot}{\kern0pt}split\ ltree{\isachardot}{\kern0pt}split{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split\ stree{\isachardot}{\kern0pt}split\ ltree{\isachardot}{\kern0pt}split{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ metis\ fset{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}map\ fst{\isacharunderscore}{\kern0pt}conv\ fst{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}eq\ sndI\ stree{\isachardot}{\kern0pt}inject\ stree{\isacharunderscore}{\kern0pt}ltree{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t\ {\isacharequal}{\kern0pt}\ stree{\isacharunderscore}{\kern0pt}ltree\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}eq\ \isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fst\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}\ {\isasymge}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}split\ stree{\isachardot}{\kern0pt}split{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymge}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ arbitrary{\isacharcolon}{\kern0pt}\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ stree{\isachardot}{\kern0pt}splits{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}conv\ le{\isacharunderscore}{\kern0pt}SucI\ order{\isachardot}{\kern0pt}trans\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymin}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ v\ {\isasymle}\ n{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ arbitrary{\isacharcolon}{\kern0pt}\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ auto\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ stree{\isachardot}{\kern0pt}splits{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ metis\ Suc{\isacharunderscore}{\kern0pt}leD\ fst{\isacharunderscore}{\kern0pt}conv\ order{\isacharunderscore}{\kern0pt}trans\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}mono{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ blast{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ r\ ts{\isacharprime}{\kern0pt}\ \isakeyword{where}\ ts{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ SNode\ r\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}iff\ stree{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymge}\ Suc\ n{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isasymnotin}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ t{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}insert\ t{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ t{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge{\isacharbrackleft}{\kern0pt}OF\ ts{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ fastforce{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ t{\isacharprime}{\kern0pt}\ ts{\isacharprime}{\kern0pt}\ r{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}t{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t\ rule{\isacharcolon}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ n\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ nt{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ n\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ r\ ts{\isacharprime}{\kern0pt}\ \isakeyword{where}\ nt{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Node\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ SNode\ r\ ts{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stree{\isachardot}{\kern0pt}exhaust\ prod{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}{\kern0pt}\ {\isasymnotin}\ fset\ ts{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ nt{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}ge{\isacharbrackleft}{\kern0pt}OF\ nt{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ meson\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\ root{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}wf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ nt{\isacharprime}{\kern0pt}\ nt{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}aux\ \isacommand{unfolding}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}subtrees{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}nodes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ t{\isadigit{1}}\ t{\isadigit{2}}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isadigit{1}}\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ t{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isadigit{2}}\ {\isasymin}\ fset\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ relabel{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ nodes{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}nodes\ t{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree\ t{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}image{\isacharbrackleft}{\kern0pt}of\ f\ {\isachardoublequoteopen}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharbackquote}{\kern0pt}\ fset\ ts{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ meson\ image{\isacharunderscore}{\kern0pt}eqI\ inj{\isacharunderscore}{\kern0pt}onD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nodes\ nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ t{\isadigit{1}}{\isacharunderscore}{\kern0pt}subtree\ t{\isadigit{2}}{\isacharunderscore}{\kern0pt}subtree\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}family{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}subtree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ t\ {\isasymin}\ fset\ ts\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}nodes\ t\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}SNode\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}t{\isasymin}{\isacharhash}{\kern0pt}\ mset{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fset\ ts{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}stree\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}subtree{\isacharbrackleft}{\kern0pt}OF\ SNode{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ elem{\isacharunderscore}{\kern0pt}mset{\isacharunderscore}{\kern0pt}set\ finite{\isacharunderscore}{\kern0pt}fset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}subtrees{\isacharbrackleft}{\kern0pt}OF\ SNode{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ SNode{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mset{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}inj{\isacharcomma}{\kern0pt}\ metis\ IH\ image{\isacharunderscore}{\kern0pt}mset{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ f\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}stree\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t{\isadigit{1}}\ {\isasymLongrightarrow}\ regular\ t{\isadigit{2}}\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ f\ {\isacharparenleft}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ relabel{\isacharunderscore}{\kern0pt}stree\ f\ {\isacharparenleft}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ t{\isadigit{2}}\ {\isasymLongrightarrow}\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}relabel{\isacharunderscore}{\kern0pt}ltree{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t{\isadigit{1}}\ {\isasymLongrightarrow}\ regular\ t{\isadigit{2}}\ {\isasymLongrightarrow}\ tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{1}}\ {\isasymsimeq}\isactrlsub r\ tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{2}}\ {\isasymLongrightarrow}\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}inj\ tree{\isacharunderscore}{\kern0pt}graphs{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}strees{\isacharunderscore}{\kern0pt}iso\ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}postorder{\isacharunderscore}{\kern0pt}label\isanewline
\ \ \ \ distinct{\isacharunderscore}{\kern0pt}nodes{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}ltree\ postorder{\isacharunderscore}{\kern0pt}label{\isacharunderscore}{\kern0pt}stree{\isacharunderscore}{\kern0pt}eq\ \isacommand{unfolding}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}inj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ regular{\isacharunderscore}{\kern0pt}t{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ regular{\isacharunderscore}{\kern0pt}t{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ t{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ V\ E\ r\ \isakeyword{where}\ g{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}V{\isacharcomma}{\kern0pt}E{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}exhaust\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{interpret}\isamarkupfalse%
\ rtree\ V\ E\ r\ \isacommand{using}\isamarkupfalse%
\ rtree{\isacharunderscore}{\kern0pt}tree{\isacharunderscore}{\kern0pt}graph\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{1}}\ {\isasymsimeq}\isactrlsub r\ tree{\isacharunderscore}{\kern0pt}graph\ t{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}eq\ g\ rgraph{\isacharunderscore}{\kern0pt}isomorph{\isacharunderscore}{\kern0pt}refl\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ tree{\isacharunderscore}{\kern0pt}graph{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}iso\ regular{\isacharunderscore}{\kern0pt}t{\isadigit{1}}\ regular{\isacharunderscore}{\kern0pt}t{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Rooted_Tree.tex%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=7%:%
%:%26=7%:%
%:%27=8%:%
%:%28=9%:%
%:%29=10%:%
%:%30=10%:%
%:%31=11%:%
%:%32=12%:%
%:%34=14%:%
%:%36=16%:%
%:%37=16%:%
%:%38=17%:%
%:%41=18%:%
%:%45=18%:%
%:%46=18%:%
%:%51=18%:%
%:%54=19%:%
%:%55=20%:%
%:%56=20%:%
%:%57=21%:%
%:%60=22%:%
%:%64=22%:%
%:%65=22%:%
%:%70=22%:%
%:%73=23%:%
%:%74=24%:%
%:%75=24%:%
%:%76=25%:%
%:%77=26%:%
%:%78=27%:%
%:%85=28%:%
%:%86=28%:%
%:%87=29%:%
%:%88=29%:%
%:%89=30%:%
%:%90=30%:%
%:%91=30%:%
%:%92=30%:%
%:%93=30%:%
%:%94=31%:%
%:%100=31%:%
%:%103=32%:%
%:%104=33%:%
%:%105=33%:%
%:%106=34%:%
%:%107=35%:%
%:%108=36%:%
%:%109=37%:%
%:%110=38%:%
%:%111=38%:%
%:%112=39%:%
%:%113=40%:%
%:%114=41%:%
%:%115=41%:%
%:%116=42%:%
%:%117=43%:%
%:%118=44%:%
%:%119=44%:%
%:%120=45%:%
%:%121=46%:%
%:%122=47%:%
%:%123=47%:%
%:%124=48%:%
%:%125=49%:%
%:%126=50%:%
%:%127=50%:%
%:%130=51%:%
%:%134=51%:%
%:%135=51%:%
%:%136=51%:%
%:%141=51%:%
%:%144=52%:%
%:%145=53%:%
%:%146=53%:%
%:%149=54%:%
%:%153=54%:%
%:%154=54%:%
%:%159=54%:%
%:%162=55%:%
%:%163=56%:%
%:%164=56%:%
%:%167=57%:%
%:%171=57%:%
%:%172=57%:%
%:%177=57%:%
%:%180=58%:%
%:%181=59%:%
%:%182=59%:%
%:%185=60%:%
%:%189=60%:%
%:%190=60%:%
%:%191=60%:%
%:%192=60%:%
%:%197=60%:%
%:%200=61%:%
%:%201=62%:%
%:%202=62%:%
%:%205=63%:%
%:%209=63%:%
%:%210=63%:%
%:%211=63%:%
%:%216=63%:%
%:%219=64%:%
%:%220=65%:%
%:%221=65%:%
%:%224=66%:%
%:%228=66%:%
%:%229=66%:%
%:%230=66%:%
%:%235=66%:%
%:%238=67%:%
%:%239=68%:%
%:%240=68%:%
%:%243=69%:%
%:%247=69%:%
%:%248=69%:%
%:%249=69%:%
%:%254=69%:%
%:%257=70%:%
%:%258=71%:%
%:%259=71%:%
%:%262=72%:%
%:%266=72%:%
%:%267=72%:%
%:%272=72%:%
%:%275=73%:%
%:%276=74%:%
%:%277=74%:%
%:%280=75%:%
%:%284=75%:%
%:%285=75%:%
%:%286=75%:%
%:%287=75%:%
%:%292=75%:%
%:%295=76%:%
%:%296=77%:%
%:%297=77%:%
%:%300=78%:%
%:%304=78%:%
%:%305=78%:%
%:%310=78%:%
%:%313=79%:%
%:%314=80%:%
%:%315=80%:%
%:%318=81%:%
%:%322=81%:%
%:%323=81%:%
%:%324=81%:%
%:%325=81%:%
%:%330=81%:%
%:%333=82%:%
%:%334=83%:%
%:%335=83%:%
%:%338=84%:%
%:%342=84%:%
%:%343=84%:%
%:%344=84%:%
%:%349=84%:%
%:%352=85%:%
%:%353=86%:%
%:%354=86%:%
%:%357=87%:%
%:%361=87%:%
%:%362=87%:%
%:%363=87%:%
%:%364=87%:%
%:%369=87%:%
%:%372=88%:%
%:%373=89%:%
%:%374=89%:%
%:%377=90%:%
%:%381=90%:%
%:%382=90%:%
%:%383=90%:%
%:%388=90%:%
%:%391=91%:%
%:%392=92%:%
%:%393=92%:%
%:%396=93%:%
%:%400=93%:%
%:%401=93%:%
%:%402=94%:%
%:%407=94%:%
%:%410=95%:%
%:%411=96%:%
%:%412=96%:%
%:%415=97%:%
%:%419=97%:%
%:%420=97%:%
%:%421=97%:%
%:%422=97%:%
%:%427=97%:%
%:%430=98%:%
%:%431=99%:%
%:%432=99%:%
%:%439=100%:%
%:%440=100%:%
%:%441=101%:%
%:%442=101%:%
%:%443=102%:%
%:%444=102%:%
%:%445=102%:%
%:%446=102%:%
%:%447=103%:%
%:%448=103%:%
%:%449=104%:%
%:%450=104%:%
%:%451=105%:%
%:%452=105%:%
%:%453=105%:%
%:%454=105%:%
%:%455=106%:%
%:%456=106%:%
%:%457=107%:%
%:%458=107%:%
%:%459=108%:%
%:%460=108%:%
%:%461=108%:%
%:%462=108%:%
%:%463=109%:%
%:%469=109%:%
%:%472=110%:%
%:%473=111%:%
%:%474=111%:%
%:%481=112%:%
%:%482=112%:%
%:%483=113%:%
%:%484=113%:%
%:%485=114%:%
%:%486=114%:%
%:%487=114%:%
%:%488=114%:%
%:%489=114%:%
%:%490=115%:%
%:%491=115%:%
%:%492=115%:%
%:%493=115%:%
%:%494=116%:%
%:%495=116%:%
%:%496=116%:%
%:%497=116%:%
%:%498=116%:%
%:%499=117%:%
%:%500=117%:%
%:%501=117%:%
%:%502=117%:%
%:%503=117%:%
%:%504=118%:%
%:%505=118%:%
%:%506=118%:%
%:%507=118%:%
%:%508=118%:%
%:%509=119%:%
%:%515=119%:%
%:%518=120%:%
%:%519=121%:%
%:%520=121%:%
%:%521=122%:%
%:%522=123%:%
%:%523=123%:%
%:%526=124%:%
%:%530=124%:%
%:%531=124%:%
%:%536=124%:%
%:%539=125%:%
%:%540=126%:%
%:%541=126%:%
%:%544=127%:%
%:%548=127%:%
%:%549=127%:%
%:%554=127%:%
%:%557=128%:%
%:%558=129%:%
%:%559=129%:%
%:%562=130%:%
%:%566=130%:%
%:%567=130%:%
%:%572=130%:%
%:%575=131%:%
%:%576=132%:%
%:%577=132%:%
%:%580=133%:%
%:%584=133%:%
%:%585=133%:%
%:%586=133%:%
%:%591=133%:%
%:%594=134%:%
%:%595=135%:%
%:%596=135%:%
%:%599=136%:%
%:%603=136%:%
%:%604=136%:%
%:%609=136%:%
%:%612=137%:%
%:%613=138%:%
%:%614=139%:%
%:%615=139%:%
%:%618=140%:%
%:%622=140%:%
%:%623=140%:%
%:%628=140%:%
%:%631=141%:%
%:%632=142%:%
%:%633=142%:%
%:%636=143%:%
%:%640=143%:%
%:%641=143%:%
%:%642=143%:%
%:%647=143%:%
%:%650=144%:%
%:%651=145%:%
%:%652=145%:%
%:%655=146%:%
%:%659=146%:%
%:%660=146%:%
%:%665=146%:%
%:%668=147%:%
%:%669=148%:%
%:%670=148%:%
%:%673=149%:%
%:%677=149%:%
%:%678=149%:%
%:%683=149%:%
%:%686=150%:%
%:%687=151%:%
%:%688=152%:%
%:%689=152%:%
%:%692=153%:%
%:%696=153%:%
%:%697=153%:%
%:%702=153%:%
%:%705=154%:%
%:%706=155%:%
%:%707=155%:%
%:%710=156%:%
%:%714=156%:%
%:%715=156%:%
%:%720=156%:%
%:%723=157%:%
%:%724=158%:%
%:%725=158%:%
%:%728=159%:%
%:%732=159%:%
%:%733=159%:%
%:%738=159%:%
%:%741=160%:%
%:%742=161%:%
%:%743=162%:%
%:%744=162%:%
%:%747=163%:%
%:%751=163%:%
%:%752=163%:%
%:%757=163%:%
%:%760=164%:%
%:%761=165%:%
%:%762=165%:%
%:%765=166%:%
%:%769=166%:%
%:%770=166%:%
%:%771=166%:%
%:%772=166%:%
%:%777=166%:%
%:%780=167%:%
%:%781=168%:%
%:%782=168%:%
%:%785=169%:%
%:%789=169%:%
%:%790=169%:%
%:%791=169%:%
%:%792=169%:%
%:%797=169%:%
%:%800=170%:%
%:%801=171%:%
%:%802=171%:%
%:%805=172%:%
%:%809=172%:%
%:%810=172%:%
%:%811=172%:%
%:%816=172%:%
%:%819=173%:%
%:%820=174%:%
%:%821=174%:%
%:%824=175%:%
%:%828=175%:%
%:%829=175%:%
%:%834=175%:%
%:%837=176%:%
%:%838=177%:%
%:%839=177%:%
%:%842=178%:%
%:%846=178%:%
%:%847=178%:%
%:%848=178%:%
%:%849=178%:%
%:%854=178%:%
%:%857=179%:%
%:%858=180%:%
%:%859=180%:%
%:%862=181%:%
%:%866=181%:%
%:%867=181%:%
%:%868=181%:%
%:%869=181%:%
%:%874=181%:%
%:%877=182%:%
%:%878=183%:%
%:%879=183%:%
%:%882=184%:%
%:%886=184%:%
%:%887=184%:%
%:%888=184%:%
%:%889=185%:%
%:%890=186%:%
%:%895=186%:%
%:%898=187%:%
%:%899=188%:%
%:%900=188%:%
%:%903=189%:%
%:%907=189%:%
%:%908=189%:%
%:%909=189%:%
%:%914=189%:%
%:%917=190%:%
%:%918=191%:%
%:%919=191%:%
%:%922=192%:%
%:%926=192%:%
%:%927=192%:%
%:%928=192%:%
%:%933=192%:%
%:%936=193%:%
%:%937=194%:%
%:%938=194%:%
%:%941=195%:%
%:%945=195%:%
%:%946=195%:%
%:%947=195%:%
%:%948=195%:%
%:%953=195%:%
%:%956=196%:%
%:%957=197%:%
%:%958=197%:%
%:%961=198%:%
%:%965=198%:%
%:%966=198%:%
%:%967=198%:%
%:%968=198%:%
%:%973=198%:%
%:%976=199%:%
%:%977=200%:%
%:%978=200%:%
%:%981=201%:%
%:%985=201%:%
%:%986=201%:%
%:%987=201%:%
%:%988=201%:%
%:%993=201%:%
%:%996=202%:%
%:%997=203%:%
%:%998=203%:%
%:%1001=204%:%
%:%1005=204%:%
%:%1006=204%:%
%:%1007=204%:%
%:%1012=204%:%
%:%1015=205%:%
%:%1016=206%:%
%:%1017=206%:%
%:%1020=207%:%
%:%1024=207%:%
%:%1025=207%:%
%:%1030=207%:%
%:%1033=208%:%
%:%1034=209%:%
%:%1035=209%:%
%:%1038=210%:%
%:%1042=210%:%
%:%1043=210%:%
%:%1044=210%:%
%:%1049=210%:%
%:%1052=211%:%
%:%1053=212%:%
%:%1054=212%:%
%:%1057=213%:%
%:%1061=213%:%
%:%1062=213%:%
%:%1067=213%:%
%:%1070=214%:%
%:%1071=215%:%
%:%1072=215%:%
%:%1079=216%:%
%:%1080=216%:%
%:%1081=217%:%
%:%1082=217%:%
%:%1083=218%:%
%:%1084=218%:%
%:%1085=218%:%
%:%1086=218%:%
%:%1087=219%:%
%:%1088=219%:%
%:%1089=220%:%
%:%1090=220%:%
%:%1091=221%:%
%:%1092=221%:%
%:%1093=221%:%
%:%1094=221%:%
%:%1095=222%:%
%:%1101=222%:%
%:%1104=223%:%
%:%1105=224%:%
%:%1106=224%:%
%:%1109=225%:%
%:%1113=225%:%
%:%1114=225%:%
%:%1115=225%:%
%:%1116=225%:%
%:%1121=225%:%
%:%1124=226%:%
%:%1125=227%:%
%:%1126=227%:%
%:%1129=228%:%
%:%1133=228%:%
%:%1134=228%:%
%:%1135=228%:%
%:%1136=228%:%
%:%1141=228%:%
%:%1144=229%:%
%:%1145=230%:%
%:%1146=230%:%
%:%1147=231%:%
%:%1154=232%:%
%:%1155=232%:%
%:%1156=233%:%
%:%1157=233%:%
%:%1158=234%:%
%:%1159=234%:%
%:%1160=235%:%
%:%1161=235%:%
%:%1162=236%:%
%:%1163=236%:%
%:%1164=236%:%
%:%1165=237%:%
%:%1166=237%:%
%:%1167=237%:%
%:%1168=238%:%
%:%1169=238%:%
%:%1170=238%:%
%:%1171=238%:%
%:%1172=239%:%
%:%1173=239%:%
%:%1174=239%:%
%:%1175=239%:%
%:%1176=239%:%
%:%1177=240%:%
%:%1178=240%:%
%:%1179=241%:%
%:%1180=241%:%
%:%1181=241%:%
%:%1182=241%:%
%:%1183=242%:%
%:%1184=242%:%
%:%1185=243%:%
%:%1186=243%:%
%:%1187=244%:%
%:%1188=244%:%
%:%1189=244%:%
%:%1190=245%:%
%:%1191=246%:%
%:%1197=246%:%
%:%1200=247%:%
%:%1201=248%:%
%:%1202=248%:%
%:%1209=249%:%
%:%1210=249%:%
%:%1211=250%:%
%:%1212=250%:%
%:%1213=251%:%
%:%1214=251%:%
%:%1215=251%:%
%:%1216=252%:%
%:%1217=252%:%
%:%1218=253%:%
%:%1219=253%:%
%:%1220=254%:%
%:%1221=254%:%
%:%1222=255%:%
%:%1223=255%:%
%:%1224=256%:%
%:%1225=257%:%
%:%1231=257%:%
%:%1234=258%:%
%:%1235=259%:%
%:%1236=259%:%
%:%1243=260%:%
%:%1244=260%:%
%:%1245=261%:%
%:%1246=261%:%
%:%1247=262%:%
%:%1248=262%:%
%:%1249=262%:%
%:%1250=262%:%
%:%1251=263%:%
%:%1252=263%:%
%:%1253=264%:%
%:%1254=264%:%
%:%1255=265%:%
%:%1256=265%:%
%:%1257=265%:%
%:%1258=265%:%
%:%1259=266%:%
%:%1260=266%:%
%:%1261=267%:%
%:%1262=267%:%
%:%1263=268%:%
%:%1264=268%:%
%:%1265=269%:%
%:%1266=269%:%
%:%1267=269%:%
%:%1268=269%:%
%:%1269=269%:%
%:%1270=270%:%
%:%1271=270%:%
%:%1272=271%:%
%:%1273=271%:%
%:%1274=271%:%
%:%1275=272%:%
%:%1276=272%:%
%:%1277=272%:%
%:%1278=272%:%
%:%1279=272%:%
%:%1280=273%:%
%:%1281=273%:%
%:%1282=274%:%
%:%1283=275%:%
%:%1284=276%:%
%:%1285=276%:%
%:%1286=277%:%
%:%1292=277%:%
%:%1295=278%:%
%:%1296=279%:%
%:%1297=280%:%
%:%1298=280%:%
%:%1299=281%:%
%:%1300=282%:%
%:%1301=283%:%
%:%1302=283%:%
%:%1303=284%:%
%:%1304=285%:%
%:%1305=286%:%
%:%1306=286%:%
%:%1307=287%:%
%:%1314=290%:%
%:%1324=292%:%
%:%1325=292%:%
%:%1326=293%:%
%:%1327=294%:%
%:%1328=294%:%
%:%1329=295%:%
%:%1330=296%:%
%:%1331=297%:%
%:%1332=298%:%
%:%1333=298%:%
%:%1334=299%:%
%:%1335=300%:%
%:%1336=301%:%
%:%1337=301%:%
%:%1338=302%:%
%:%1340=304%:%
%:%1341=305%:%
%:%1342=306%:%
%:%1343=306%:%
%:%1344=307%:%
%:%1345=308%:%
%:%1352=309%:%
%:%1353=309%:%
%:%1354=310%:%
%:%1355=310%:%
%:%1356=310%:%
%:%1357=311%:%
%:%1358=311%:%
%:%1359=311%:%
%:%1360=311%:%
%:%1361=311%:%
%:%1362=312%:%
%:%1363=312%:%
%:%1364=313%:%
%:%1365=313%:%
%:%1366=314%:%
%:%1367=314%:%
%:%1368=314%:%
%:%1369=314%:%
%:%1370=314%:%
%:%1371=315%:%
%:%1372=315%:%
%:%1373=315%:%
%:%1374=315%:%
%:%1375=315%:%
%:%1376=315%:%
%:%1377=316%:%
%:%1378=316%:%
%:%1379=316%:%
%:%1380=317%:%
%:%1381=317%:%
%:%1382=317%:%
%:%1383=317%:%
%:%1384=317%:%
%:%1385=318%:%
%:%1386=318%:%
%:%1387=318%:%
%:%1388=318%:%
%:%1389=319%:%
%:%1390=319%:%
%:%1391=319%:%
%:%1392=319%:%
%:%1393=320%:%
%:%1394=320%:%
%:%1395=320%:%
%:%1396=321%:%
%:%1397=321%:%
%:%1398=322%:%
%:%1404=322%:%
%:%1407=323%:%
%:%1408=324%:%
%:%1409=324%:%
%:%1416=325%:%
%:%1417=325%:%
%:%1418=326%:%
%:%1419=326%:%
%:%1420=326%:%
%:%1421=327%:%
%:%1422=327%:%
%:%1423=327%:%
%:%1424=327%:%
%:%1425=327%:%
%:%1426=328%:%
%:%1427=328%:%
%:%1428=329%:%
%:%1429=329%:%
%:%1430=330%:%
%:%1431=330%:%
%:%1432=330%:%
%:%1433=330%:%
%:%1434=330%:%
%:%1435=331%:%
%:%1441=331%:%
%:%1444=332%:%
%:%1445=333%:%
%:%1446=333%:%
%:%1447=334%:%
%:%1448=335%:%
%:%1449=336%:%
%:%1456=337%:%
%:%1457=337%:%
%:%1458=338%:%
%:%1459=338%:%
%:%1460=338%:%
%:%1461=338%:%
%:%1462=338%:%
%:%1463=339%:%
%:%1464=339%:%
%:%1465=340%:%
%:%1466=340%:%
%:%1467=341%:%
%:%1468=341%:%
%:%1469=342%:%
%:%1470=342%:%
%:%1471=343%:%
%:%1472=343%:%
%:%1473=344%:%
%:%1474=344%:%
%:%1475=345%:%
%:%1476=346%:%
%:%1477=347%:%
%:%1478=347%:%
%:%1479=347%:%
%:%1480=347%:%
%:%1481=348%:%
%:%1482=348%:%
%:%1483=348%:%
%:%1484=348%:%
%:%1485=349%:%
%:%1491=349%:%
%:%1494=350%:%
%:%1495=351%:%
%:%1496=351%:%
%:%1497=352%:%
%:%1498=353%:%
%:%1499=353%:%
%:%1500=354%:%
%:%1501=355%:%
%:%1502=356%:%
%:%1503=356%:%
%:%1504=357%:%
%:%1505=358%:%
%:%1506=359%:%
%:%1507=360%:%
%:%1508=361%:%
%:%1509=361%:%
%:%1511=361%:%
%:%1515=361%:%
%:%1516=361%:%
%:%1524=361%:%
%:%1525=362%:%
%:%1526=363%:%
%:%1527=363%:%
%:%1530=364%:%
%:%1534=364%:%
%:%1535=364%:%
%:%1536=364%:%
%:%1541=364%:%
%:%1544=365%:%
%:%1545=366%:%
%:%1546=366%:%
%:%1548=366%:%
%:%1552=366%:%
%:%1553=366%:%
%:%1561=366%:%
%:%1562=367%:%
%:%1563=368%:%
%:%1564=368%:%
%:%1571=369%:%
%:%1572=369%:%
%:%1573=370%:%
%:%1574=370%:%
%:%1575=370%:%
%:%1576=370%:%
%:%1577=371%:%
%:%1578=371%:%
%:%1579=371%:%
%:%1580=372%:%
%:%1581=372%:%
%:%1582=373%:%
%:%1588=373%:%
%:%1591=374%:%
%:%1592=375%:%
%:%1593=375%:%
%:%1594=376%:%
%:%1595=377%:%
%:%1596=377%:%
%:%1597=378%:%
%:%1598=379%:%
%:%1599=380%:%
%:%1600=380%:%
%:%1603=381%:%
%:%1607=381%:%
%:%1608=381%:%
%:%1609=382%:%
%:%1610=382%:%
%:%1611=382%:%
%:%1616=382%:%
%:%1619=383%:%
%:%1620=384%:%
%:%1621=384%:%
%:%1624=385%:%
%:%1628=385%:%
%:%1629=385%:%
%:%1630=385%:%
%:%1635=385%:%
%:%1638=386%:%
%:%1639=387%:%
%:%1640=387%:%
%:%1643=388%:%
%:%1647=388%:%
%:%1648=388%:%
%:%1649=388%:%
%:%1654=388%:%
%:%1657=389%:%
%:%1658=390%:%
%:%1659=390%:%
%:%1662=391%:%
%:%1666=391%:%
%:%1667=391%:%
%:%1668=391%:%
%:%1669=391%:%
%:%1674=391%:%
%:%1677=392%:%
%:%1678=393%:%
%:%1679=393%:%
%:%1682=394%:%
%:%1686=394%:%
%:%1687=394%:%
%:%1688=394%:%
%:%1689=394%:%
%:%1694=394%:%
%:%1697=395%:%
%:%1698=396%:%
%:%1699=396%:%
%:%1702=397%:%
%:%1706=397%:%
%:%1707=397%:%
%:%1712=397%:%
%:%1715=398%:%
%:%1716=399%:%
%:%1717=399%:%
%:%1720=400%:%
%:%1724=400%:%
%:%1725=400%:%
%:%1726=400%:%
%:%1731=400%:%
%:%1734=401%:%
%:%1735=402%:%
%:%1736=403%:%
%:%1737=403%:%
%:%1738=404%:%
%:%1739=405%:%
%:%1740=405%:%
%:%1741=406%:%
%:%1742=407%:%
%:%1743=408%:%
%:%1744=408%:%
%:%1745=409%:%
%:%1746=410%:%
%:%1747=411%:%
%:%1748=411%:%
%:%1749=412%:%
%:%1750=413%:%
%:%1751=414%:%
%:%1752=414%:%
%:%1753=415%:%
%:%1754=416%:%
%:%1755=417%:%
%:%1756=417%:%
%:%1757=418%:%
%:%1758=419%:%
%:%1759=420%:%
%:%1760=420%:%
%:%1761=421%:%
%:%1762=422%:%
%:%1765=425%:%
%:%1766=426%:%
%:%1767=427%:%
%:%1768=427%:%
%:%1769=428%:%
%:%1770=429%:%
%:%1771=430%:%
%:%1772=430%:%
%:%1773=431%:%
%:%1774=432%:%
%:%1775=433%:%
%:%1776=433%:%
%:%1777=434%:%
%:%1778=435%:%
%:%1779=436%:%
%:%1780=436%:%
%:%1781=437%:%
%:%1782=438%:%
%:%1783=438%:%
%:%1786=439%:%
%:%1790=439%:%
%:%1791=439%:%
%:%1792=439%:%
%:%1797=439%:%
%:%1800=440%:%
%:%1801=441%:%
%:%1802=441%:%
%:%1805=442%:%
%:%1809=442%:%
%:%1810=442%:%
%:%1811=442%:%
%:%1816=442%:%
%:%1819=443%:%
%:%1820=444%:%
%:%1821=444%:%
%:%1822=445%:%
%:%1823=446%:%
%:%1824=447%:%
%:%1825=447%:%
%:%1826=448%:%
%:%1827=449%:%
%:%1828=450%:%
%:%1829=450%:%
%:%1830=451%:%
%:%1831=452%:%
%:%1832=453%:%
%:%1833=453%:%
%:%1834=454%:%
%:%1835=455%:%
%:%1836=456%:%
%:%1837=456%:%
%:%1838=457%:%
%:%1839=458%:%
%:%1840=459%:%
%:%1841=459%:%
%:%1842=460%:%
%:%1843=461%:%
%:%1844=462%:%
%:%1845=462%:%
%:%1846=463%:%
%:%1847=464%:%
%:%1848=465%:%
%:%1849=465%:%
%:%1850=466%:%
%:%1851=467%:%
%:%1852=468%:%
%:%1853=468%:%
%:%1854=469%:%
%:%1855=470%:%
%:%1856=471%:%
%:%1857=471%:%
%:%1858=472%:%
%:%1860=474%:%
%:%1863=475%:%
%:%1867=475%:%
%:%1868=475%:%
%:%1873=475%:%
%:%1876=476%:%
%:%1877=477%:%
%:%1878=477%:%
%:%1885=478%:%
%:%1886=478%:%
%:%1887=479%:%
%:%1888=479%:%
%:%1889=480%:%
%:%1890=480%:%
%:%1891=481%:%
%:%1892=481%:%
%:%1893=482%:%
%:%1894=482%:%
%:%1895=482%:%
%:%1896=482%:%
%:%1897=483%:%
%:%1898=483%:%
%:%1899=483%:%
%:%1900=484%:%
%:%1901=484%:%
%:%1902=484%:%
%:%1903=484%:%
%:%1904=484%:%
%:%1905=485%:%
%:%1906=485%:%
%:%1907=485%:%
%:%1908=485%:%
%:%1909=486%:%
%:%1910=486%:%
%:%1911=486%:%
%:%1912=486%:%
%:%1913=486%:%
%:%1914=487%:%
%:%1915=487%:%
%:%1916=487%:%
%:%1917=487%:%
%:%1918=487%:%
%:%1919=488%:%
%:%1920=488%:%
%:%1921=488%:%
%:%1922=488%:%
%:%1923=488%:%
%:%1924=489%:%
%:%1925=489%:%
%:%1926=489%:%
%:%1927=489%:%
%:%1928=489%:%
%:%1929=490%:%
%:%1935=490%:%
%:%1938=491%:%
%:%1939=492%:%
%:%1940=492%:%
%:%1941=493%:%
%:%1942=494%:%
%:%1943=495%:%
%:%1944=495%:%
%:%1945=496%:%
%:%1952=498%:%
%:%1962=500%:%
%:%1963=500%:%
%:%1966=501%:%
%:%1970=501%:%
%:%1971=501%:%
%:%1976=501%:%
%:%1979=502%:%
%:%1980=503%:%
%:%1981=503%:%
%:%1984=504%:%
%:%1988=504%:%
%:%1989=504%:%
%:%1994=504%:%
%:%1997=505%:%
%:%1998=506%:%
%:%1999=506%:%
%:%2002=507%:%
%:%2006=507%:%
%:%2007=507%:%
%:%2012=507%:%
%:%2015=508%:%
%:%2016=509%:%
%:%2017=509%:%
%:%2020=510%:%
%:%2024=510%:%
%:%2025=510%:%
%:%2039=512%:%
%:%2049=514%:%
%:%2050=514%:%
%:%2053=515%:%
%:%2057=515%:%
%:%2058=515%:%
%:%2063=515%:%
%:%2066=516%:%
%:%2067=517%:%
%:%2068=517%:%
%:%2071=518%:%
%:%2075=518%:%
%:%2076=518%:%
%:%2077=518%:%
%:%2082=518%:%
%:%2085=519%:%
%:%2086=520%:%
%:%2087=520%:%
%:%2090=521%:%
%:%2094=521%:%
%:%2095=521%:%
%:%2096=521%:%
%:%2101=521%:%
%:%2104=522%:%
%:%2105=523%:%
%:%2106=523%:%
%:%2109=524%:%
%:%2113=524%:%
%:%2114=524%:%
%:%2119=524%:%
%:%2122=525%:%
%:%2123=526%:%
%:%2124=526%:%
%:%2127=527%:%
%:%2131=527%:%
%:%2132=527%:%
%:%2137=527%:%
%:%2140=528%:%
%:%2141=529%:%
%:%2142=529%:%
%:%2145=530%:%
%:%2149=530%:%
%:%2150=530%:%
%:%2155=530%:%
%:%2158=531%:%
%:%2159=532%:%
%:%2160=532%:%
%:%2163=533%:%
%:%2167=533%:%
%:%2168=533%:%
%:%2173=533%:%
%:%2176=534%:%
%:%2177=535%:%
%:%2178=535%:%
%:%2181=536%:%
%:%2185=536%:%
%:%2186=536%:%
%:%2191=536%:%
%:%2194=537%:%
%:%2195=538%:%
%:%2196=538%:%
%:%2199=539%:%
%:%2203=539%:%
%:%2204=539%:%
%:%2209=539%:%
%:%2212=540%:%
%:%2213=541%:%
%:%2214=541%:%
%:%2217=542%:%
%:%2221=542%:%
%:%2222=542%:%
%:%2227=542%:%
%:%2230=543%:%
%:%2231=544%:%
%:%2232=544%:%
%:%2239=545%:%
%:%2240=545%:%
%:%2241=546%:%
%:%2242=546%:%
%:%2243=547%:%
%:%2244=547%:%
%:%2245=548%:%
%:%2246=548%:%
%:%2247=548%:%
%:%2248=549%:%
%:%2249=549%:%
%:%2250=549%:%
%:%2251=550%:%
%:%2252=550%:%
%:%2253=550%:%
%:%2254=550%:%
%:%2255=551%:%
%:%2261=551%:%
%:%2264=552%:%
%:%2265=553%:%
%:%2266=553%:%
%:%2267=554%:%
%:%2268=555%:%
%:%2269=555%:%
%:%2272=556%:%
%:%2276=556%:%
%:%2277=556%:%
%:%2278=557%:%
%:%2279=557%:%
%:%2284=557%:%
%:%2287=558%:%
%:%2288=559%:%
%:%2289=559%:%
%:%2292=560%:%
%:%2296=560%:%
%:%2297=560%:%
%:%2298=560%:%
%:%2303=560%:%
%:%2306=561%:%
%:%2307=562%:%
%:%2308=562%:%
%:%2311=563%:%
%:%2315=563%:%
%:%2316=563%:%
%:%2317=563%:%
%:%2322=563%:%
%:%2325=564%:%
%:%2326=565%:%
%:%2327=565%:%
%:%2330=566%:%
%:%2334=566%:%
%:%2335=566%:%
%:%2336=566%:%
%:%2341=566%:%
%:%2344=567%:%
%:%2345=568%:%
%:%2346=568%:%
%:%2349=569%:%
%:%2353=569%:%
%:%2354=569%:%
%:%2359=569%:%
%:%2362=570%:%
%:%2363=571%:%
%:%2364=571%:%
%:%2367=572%:%
%:%2371=572%:%
%:%2372=572%:%
%:%2377=572%:%
%:%2380=573%:%
%:%2381=574%:%
%:%2382=574%:%
%:%2385=575%:%
%:%2389=575%:%
%:%2390=575%:%
%:%2395=575%:%
%:%2398=576%:%
%:%2399=577%:%
%:%2400=577%:%
%:%2403=578%:%
%:%2407=578%:%
%:%2408=578%:%
%:%2413=578%:%
%:%2416=579%:%
%:%2417=580%:%
%:%2418=580%:%
%:%2421=581%:%
%:%2425=581%:%
%:%2426=581%:%
%:%2427=581%:%
%:%2432=581%:%
%:%2435=582%:%
%:%2436=583%:%
%:%2437=584%:%
%:%2438=584%:%
%:%2441=585%:%
%:%2445=585%:%
%:%2446=585%:%
%:%2447=585%:%
%:%2448=586%:%
%:%2449=586%:%
%:%2454=586%:%
%:%2457=587%:%
%:%2458=588%:%
%:%2459=588%:%
%:%2462=589%:%
%:%2466=589%:%
%:%2467=589%:%
%:%2468=589%:%
%:%2473=589%:%
%:%2476=590%:%
%:%2477=591%:%
%:%2478=591%:%
%:%2481=592%:%
%:%2485=592%:%
%:%2486=592%:%
%:%2487=593%:%
%:%2488=593%:%
%:%2489=594%:%
%:%2490=594%:%
%:%2491=595%:%
%:%2492=595%:%
%:%2493=595%:%
%:%2494=595%:%
%:%2495=596%:%
%:%2496=596%:%
%:%2497=596%:%
%:%2498=597%:%
%:%2499=597%:%
%:%2500=597%:%
%:%2501=597%:%
%:%2502=598%:%
%:%2503=598%:%
%:%2504=598%:%
%:%2505=598%:%
%:%2506=599%:%
%:%2507=600%:%
%:%2508=600%:%
%:%2509=600%:%
%:%2510=600%:%
%:%2511=601%:%
%:%2512=601%:%
%:%2513=601%:%
%:%2514=602%:%
%:%2515=602%:%
%:%2516=602%:%
%:%2517=602%:%
%:%2518=603%:%
%:%2519=603%:%
%:%2520=603%:%
%:%2521=603%:%
%:%2522=603%:%
%:%2523=603%:%
%:%2524=604%:%
%:%2530=604%:%
%:%2533=605%:%
%:%2534=606%:%
%:%2535=606%:%
%:%2538=607%:%
%:%2542=607%:%
%:%2543=607%:%
%:%2544=608%:%
%:%2545=608%:%
%:%2546=609%:%
%:%2547=609%:%
%:%2548=610%:%
%:%2549=610%:%
%:%2550=610%:%
%:%2551=610%:%
%:%2552=611%:%
%:%2553=611%:%
%:%2554=611%:%
%:%2555=612%:%
%:%2556=612%:%
%:%2557=612%:%
%:%2558=612%:%
%:%2559=613%:%
%:%2560=613%:%
%:%2561=613%:%
%:%2562=613%:%
%:%2563=614%:%
%:%2564=615%:%
%:%2565=615%:%
%:%2566=615%:%
%:%2567=615%:%
%:%2568=616%:%
%:%2569=616%:%
%:%2570=616%:%
%:%2571=616%:%
%:%2572=617%:%
%:%2573=618%:%
%:%2574=618%:%
%:%2575=619%:%
%:%2576=619%:%
%:%2577=620%:%
%:%2578=620%:%
%:%2579=621%:%
%:%2580=621%:%
%:%2581=622%:%
%:%2582=622%:%
%:%2583=622%:%
%:%2584=623%:%
%:%2585=623%:%
%:%2586=624%:%
%:%2587=624%:%
%:%2588=624%:%
%:%2589=624%:%
%:%2590=624%:%
%:%2591=625%:%
%:%2592=625%:%
%:%2593=625%:%
%:%2594=625%:%
%:%2595=625%:%
%:%2596=626%:%
%:%2597=626%:%
%:%2598=626%:%
%:%2599=626%:%
%:%2600=626%:%
%:%2601=627%:%
%:%2602=627%:%
%:%2603=627%:%
%:%2604=627%:%
%:%2605=627%:%
%:%2606=628%:%
%:%2607=628%:%
%:%2608=628%:%
%:%2609=628%:%
%:%2610=628%:%
%:%2611=629%:%
%:%2612=629%:%
%:%2613=629%:%
%:%2614=629%:%
%:%2615=629%:%
%:%2616=629%:%
%:%2617=630%:%
%:%2618=630%:%
%:%2619=631%:%
%:%2620=631%:%
%:%2621=631%:%
%:%2622=631%:%
%:%2623=632%:%
%:%2624=632%:%
%:%2625=632%:%
%:%2626=633%:%
%:%2627=633%:%
%:%2628=634%:%
%:%2629=634%:%
%:%2630=635%:%
%:%2631=635%:%
%:%2632=636%:%
%:%2633=636%:%
%:%2634=636%:%
%:%2635=637%:%
%:%2636=637%:%
%:%2637=637%:%
%:%2638=638%:%
%:%2639=638%:%
%:%2640=638%:%
%:%2641=639%:%
%:%2642=639%:%
%:%2643=639%:%
%:%2644=639%:%
%:%2645=639%:%
%:%2646=639%:%
%:%2647=640%:%
%:%2653=640%:%
%:%2656=641%:%
%:%2657=642%:%
%:%2658=642%:%
%:%2661=643%:%
%:%2665=643%:%
%:%2666=643%:%
%:%2667=643%:%
%:%2668=643%:%
%:%2677=646%:%
%:%2679=648%:%
%:%2680=648%:%
%:%2683=649%:%
%:%2687=649%:%
%:%2688=649%:%
%:%2693=649%:%
%:%2696=650%:%
%:%2697=651%:%
%:%2698=651%:%
%:%2701=652%:%
%:%2705=652%:%
%:%2706=652%:%
%:%2707=653%:%
%:%2708=654%:%
%:%2713=654%:%
%:%2716=655%:%
%:%2717=656%:%
%:%2718=656%:%
%:%2721=657%:%
%:%2725=657%:%
%:%2726=657%:%
%:%2727=658%:%
%:%2728=659%:%
%:%2729=660%:%
%:%2734=660%:%
%:%2737=661%:%
%:%2738=662%:%
%:%2739=662%:%
%:%2746=663%:%
%:%2747=663%:%
%:%2748=664%:%
%:%2749=664%:%
%:%2750=665%:%
%:%2751=665%:%
%:%2752=665%:%
%:%2753=665%:%
%:%2754=666%:%
%:%2755=666%:%
%:%2756=667%:%
%:%2757=667%:%
%:%2758=668%:%
%:%2759=668%:%
%:%2760=668%:%
%:%2761=669%:%
%:%2762=669%:%
%:%2763=669%:%
%:%2764=670%:%
%:%2765=670%:%
%:%2766=670%:%
%:%2767=670%:%
%:%2768=670%:%
%:%2769=671%:%
%:%2770=671%:%
%:%2771=671%:%
%:%2772=671%:%
%:%2773=671%:%
%:%2774=672%:%
%:%2775=672%:%
%:%2776=672%:%
%:%2777=673%:%
%:%2778=673%:%
%:%2779=674%:%
%:%2780=674%:%
%:%2781=674%:%
%:%2782=675%:%
%:%2783=675%:%
%:%2784=676%:%
%:%2785=676%:%
%:%2786=676%:%
%:%2787=676%:%
%:%2788=676%:%
%:%2789=677%:%
%:%2795=677%:%
%:%2798=678%:%
%:%2799=679%:%
%:%2800=679%:%
%:%2803=680%:%
%:%2807=680%:%
%:%2808=680%:%
%:%2809=680%:%
%:%2810=680%:%
%:%2815=680%:%
%:%2818=681%:%
%:%2819=682%:%
%:%2820=682%:%
%:%2823=683%:%
%:%2827=683%:%
%:%2828=683%:%
%:%2833=683%:%
%:%2836=684%:%
%:%2837=685%:%
%:%2838=685%:%
%:%2839=686%:%
%:%2842=689%:%
%:%2843=690%:%
%:%2844=691%:%
%:%2845=691%:%
%:%2852=692%:%
%:%2853=692%:%
%:%2854=693%:%
%:%2855=693%:%
%:%2856=694%:%
%:%2857=694%:%
%:%2858=694%:%
%:%2859=694%:%
%:%2860=695%:%
%:%2861=695%:%
%:%2862=696%:%
%:%2863=697%:%
%:%2864=698%:%
%:%2865=699%:%
%:%2871=699%:%
%:%2874=700%:%
%:%2875=701%:%
%:%2876=701%:%
%:%2883=702%:%
%:%2884=702%:%
%:%2885=703%:%
%:%2886=703%:%
%:%2887=704%:%
%:%2888=704%:%
%:%2889=705%:%
%:%2890=705%:%
%:%2891=705%:%
%:%2892=705%:%
%:%2893=706%:%
%:%2894=706%:%
%:%2895=706%:%
%:%2896=706%:%
%:%2897=706%:%
%:%2898=707%:%
%:%2899=707%:%
%:%2900=707%:%
%:%2901=707%:%
%:%2902=708%:%
%:%2903=708%:%
%:%2904=708%:%
%:%2905=708%:%
%:%2906=708%:%
%:%2907=709%:%
%:%2908=709%:%
%:%2909=709%:%
%:%2910=709%:%
%:%2911=709%:%
%:%2912=710%:%
%:%2913=710%:%
%:%2914=710%:%
%:%2915=710%:%
%:%2916=710%:%
%:%2917=711%:%
%:%2918=711%:%
%:%2919=711%:%
%:%2920=711%:%
%:%2921=712%:%
%:%2922=712%:%
%:%2923=712%:%
%:%2924=712%:%
%:%2925=712%:%
%:%2926=713%:%
%:%2927=713%:%
%:%2928=713%:%
%:%2929=714%:%
%:%2930=714%:%
%:%2931=714%:%
%:%2932=715%:%
%:%2933=715%:%
%:%2934=715%:%
%:%2935=716%:%
%:%2936=716%:%
%:%2937=717%:%
%:%2938=717%:%
%:%2939=717%:%
%:%2940=717%:%
%:%2941=718%:%
%:%2942=718%:%
%:%2943=718%:%
%:%2944=718%:%
%:%2945=719%:%
%:%2946=719%:%
%:%2947=720%:%
%:%2948=720%:%
%:%2949=720%:%
%:%2950=720%:%
%:%2951=721%:%
%:%2957=721%:%
%:%2960=722%:%
%:%2961=723%:%
%:%2962=723%:%
%:%2969=724%:%
%:%2970=724%:%
%:%2971=725%:%
%:%2972=725%:%
%:%2973=726%:%
%:%2974=726%:%
%:%2975=727%:%
%:%2976=727%:%
%:%2977=727%:%
%:%2978=727%:%
%:%2979=728%:%
%:%2980=728%:%
%:%2981=728%:%
%:%2982=728%:%
%:%2983=728%:%
%:%2984=729%:%
%:%2985=729%:%
%:%2986=730%:%
%:%2987=730%:%
%:%2988=731%:%
%:%2989=731%:%
%:%2990=731%:%
%:%2991=731%:%
%:%2992=732%:%
%:%2993=732%:%
%:%2994=732%:%
%:%2995=732%:%
%:%2996=733%:%
%:%2997=733%:%
%:%2998=733%:%
%:%2999=733%:%
%:%3000=734%:%
%:%3001=734%:%
%:%3002=734%:%
%:%3003=734%:%
%:%3004=735%:%
%:%3005=735%:%
%:%3006=735%:%
%:%3007=735%:%
%:%3008=735%:%
%:%3009=736%:%
%:%3010=736%:%
%:%3011=736%:%
%:%3012=736%:%
%:%3013=736%:%
%:%3014=737%:%
%:%3015=737%:%
%:%3016=738%:%
%:%3017=738%:%
%:%3018=738%:%
%:%3019=738%:%
%:%3020=738%:%
%:%3021=739%:%
%:%3022=739%:%
%:%3023=739%:%
%:%3024=739%:%
%:%3025=739%:%
%:%3026=739%:%
%:%3027=740%:%
%:%3028=740%:%
%:%3029=740%:%
%:%3030=740%:%
%:%3031=741%:%
%:%3032=741%:%
%:%3033=741%:%
%:%3034=741%:%
%:%3035=742%:%
%:%3041=742%:%
%:%3044=743%:%
%:%3045=744%:%
%:%3046=744%:%
%:%3047=745%:%
%:%3048=746%:%
%:%3055=747%:%
%:%3056=747%:%
%:%3057=748%:%
%:%3058=748%:%
%:%3059=748%:%
%:%3060=748%:%
%:%3061=749%:%
%:%3062=749%:%
%:%3063=749%:%
%:%3064=749%:%
%:%3065=750%:%
%:%3071=750%:%
%:%3074=751%:%
%:%3075=752%:%
%:%3076=752%:%
%:%3079=753%:%
%:%3083=753%:%
%:%3084=753%:%
%:%3085=753%:%
%:%3086=753%:%
%:%3091=753%:%
%:%3094=754%:%
%:%3095=755%:%
%:%3096=755%:%
%:%3099=756%:%
%:%3103=756%:%
%:%3104=756%:%
%:%3105=756%:%
%:%3106=756%:%
%:%3115=758%:%
%:%3117=760%:%
%:%3118=760%:%
%:%3121=761%:%
%:%3125=761%:%
%:%3126=761%:%
%:%3131=761%:%
%:%3134=762%:%
%:%3135=763%:%
%:%3136=763%:%
%:%3139=764%:%
%:%3143=764%:%
%:%3144=764%:%
%:%3145=764%:%
%:%3146=764%:%
%:%3151=764%:%
%:%3154=765%:%
%:%3155=766%:%
%:%3156=766%:%
%:%3163=767%:%
%:%3164=767%:%
%:%3165=768%:%
%:%3166=768%:%
%:%3167=769%:%
%:%3168=769%:%
%:%3169=769%:%
%:%3170=769%:%
%:%3171=770%:%
%:%3172=770%:%
%:%3173=770%:%
%:%3174=770%:%
%:%3175=771%:%
%:%3176=771%:%
%:%3177=772%:%
%:%3183=772%:%
%:%3186=773%:%
%:%3187=774%:%
%:%3188=774%:%
%:%3195=775%:%
%:%3196=775%:%
%:%3197=776%:%
%:%3198=776%:%
%:%3199=777%:%
%:%3200=777%:%
%:%3201=777%:%
%:%3202=777%:%
%:%3203=778%:%
%:%3204=778%:%
%:%3205=778%:%
%:%3206=778%:%
%:%3207=779%:%
%:%3208=779%:%
%:%3209=780%:%
%:%3215=780%:%
%:%3218=781%:%
%:%3219=782%:%
%:%3220=782%:%
%:%3223=783%:%
%:%3227=783%:%
%:%3228=783%:%
%:%3233=783%:%
%:%3236=784%:%
%:%3237=785%:%
%:%3238=785%:%
%:%3241=786%:%
%:%3245=786%:%
%:%3246=786%:%
%:%3251=786%:%
%:%3254=787%:%
%:%3255=788%:%
%:%3256=788%:%
%:%3259=789%:%
%:%3263=789%:%
%:%3264=789%:%
%:%3265=789%:%
%:%3266=790%:%
%:%3267=790%:%
%:%3276=792%:%
%:%3278=794%:%
%:%3279=794%:%
%:%3282=795%:%
%:%3286=795%:%
%:%3287=795%:%
%:%3292=795%:%
%:%3295=796%:%
%:%3296=797%:%
%:%3297=797%:%
%:%3298=798%:%
%:%3299=799%:%
%:%3300=800%:%
%:%3301=800%:%
%:%3302=801%:%
%:%3303=802%:%
%:%3306=805%:%
%:%3307=806%:%
%:%3308=807%:%
%:%3309=807%:%
%:%3310=808%:%
%:%3311=809%:%
%:%3312=810%:%
%:%3313=810%:%
%:%3316=811%:%
%:%3320=811%:%
%:%3321=811%:%
%:%3326=811%:%
%:%3329=812%:%
%:%3330=813%:%
%:%3331=813%:%
%:%3338=814%:%
%:%3339=814%:%
%:%3340=815%:%
%:%3341=815%:%
%:%3342=816%:%
%:%3343=816%:%
%:%3344=816%:%
%:%3345=816%:%
%:%3346=817%:%
%:%3347=817%:%
%:%3348=818%:%
%:%3349=818%:%
%:%3350=819%:%
%:%3351=819%:%
%:%3352=819%:%
%:%3353=820%:%
%:%3354=820%:%
%:%3355=820%:%
%:%3356=821%:%
%:%3357=821%:%
%:%3358=821%:%
%:%3359=822%:%
%:%3360=822%:%
%:%3361=822%:%
%:%3362=823%:%
%:%3363=823%:%
%:%3364=823%:%
%:%3365=824%:%
%:%3366=824%:%
%:%3367=824%:%
%:%3368=825%:%
%:%3369=825%:%
%:%3370=825%:%
%:%3371=825%:%
%:%3372=826%:%
%:%3378=826%:%
%:%3381=827%:%
%:%3382=828%:%
%:%3383=828%:%
%:%3390=829%:%
%:%3391=829%:%
%:%3392=830%:%
%:%3393=830%:%
%:%3394=831%:%
%:%3395=831%:%
%:%3396=831%:%
%:%3397=831%:%
%:%3398=832%:%
%:%3399=832%:%
%:%3400=833%:%
%:%3401=833%:%
%:%3402=834%:%
%:%3403=834%:%
%:%3404=834%:%
%:%3405=835%:%
%:%3406=835%:%
%:%3407=835%:%
%:%3408=836%:%
%:%3409=836%:%
%:%3410=836%:%
%:%3411=837%:%
%:%3412=837%:%
%:%3413=838%:%
%:%3414=839%:%
%:%3415=839%:%
%:%3416=839%:%
%:%3417=839%:%
%:%3418=839%:%
%:%3419=840%:%
%:%3425=840%:%
%:%3428=841%:%
%:%3429=842%:%
%:%3430=842%:%
%:%3433=843%:%
%:%3437=843%:%
%:%3438=843%:%
%:%3443=843%:%
%:%3446=844%:%
%:%3447=845%:%
%:%3448=845%:%
%:%3455=846%:%
%:%3456=846%:%
%:%3457=847%:%
%:%3458=847%:%
%:%3459=848%:%
%:%3460=848%:%
%:%3461=848%:%
%:%3462=848%:%
%:%3463=849%:%
%:%3464=849%:%
%:%3465=850%:%
%:%3466=850%:%
%:%3467=851%:%
%:%3468=851%:%
%:%3469=851%:%
%:%3470=852%:%
%:%3471=852%:%
%:%3472=852%:%
%:%3473=853%:%
%:%3474=853%:%
%:%3475=853%:%
%:%3476=854%:%
%:%3477=854%:%
%:%3478=854%:%
%:%3479=855%:%
%:%3480=855%:%
%:%3481=855%:%
%:%3482=856%:%
%:%3483=856%:%
%:%3484=856%:%
%:%3485=857%:%
%:%3486=857%:%
%:%3487=857%:%
%:%3488=858%:%
%:%3489=858%:%
%:%3490=859%:%
%:%3491=859%:%
%:%3492=859%:%
%:%3493=860%:%
%:%3494=860%:%
%:%3495=861%:%
%:%3496=861%:%
%:%3497=861%:%
%:%3498=861%:%
%:%3499=862%:%
%:%3500=862%:%
%:%3501=863%:%
%:%3502=864%:%
%:%3508=864%:%
%:%3511=865%:%
%:%3512=866%:%
%:%3513=866%:%
%:%3516=867%:%
%:%3520=867%:%
%:%3521=867%:%
%:%3522=867%:%
%:%3523=867%:%
%:%3528=867%:%
%:%3531=868%:%
%:%3532=869%:%
%:%3533=869%:%
%:%3540=870%:%
%:%3541=870%:%
%:%3542=871%:%
%:%3543=871%:%
%:%3544=872%:%
%:%3545=872%:%
%:%3546=872%:%
%:%3547=872%:%
%:%3548=873%:%
%:%3549=873%:%
%:%3550=874%:%
%:%3551=874%:%
%:%3552=875%:%
%:%3553=875%:%
%:%3554=875%:%
%:%3555=875%:%
%:%3556=876%:%
%:%3557=876%:%
%:%3558=876%:%
%:%3559=877%:%
%:%3560=877%:%
%:%3561=877%:%
%:%3562=878%:%
%:%3563=878%:%
%:%3564=878%:%
%:%3565=879%:%
%:%3566=879%:%
%:%3567=879%:%
%:%3568=880%:%
%:%3569=880%:%
%:%3570=880%:%
%:%3571=881%:%
%:%3572=881%:%
%:%3573=881%:%
%:%3574=882%:%
%:%3575=883%:%
%:%3576=883%:%
%:%3577=883%:%
%:%3578=884%:%
%:%3579=884%:%
%:%3580=885%:%
%:%3581=885%:%
%:%3582=885%:%
%:%3583=886%:%
%:%3584=886%:%
%:%3585=887%:%
%:%3586=887%:%
%:%3587=887%:%
%:%3588=888%:%
%:%3589=888%:%
%:%3590=889%:%
%:%3591=889%:%
%:%3592=889%:%
%:%3593=889%:%
%:%3594=890%:%
%:%3595=890%:%
%:%3596=890%:%
%:%3597=891%:%
%:%3598=891%:%
%:%3599=892%:%
%:%3600=892%:%
%:%3601=892%:%
%:%3602=893%:%
%:%3603=893%:%
%:%3604=894%:%
%:%3605=894%:%
%:%3606=894%:%
%:%3607=895%:%
%:%3608=895%:%
%:%3609=896%:%
%:%3610=896%:%
%:%3611=896%:%
%:%3612=896%:%
%:%3613=897%:%
%:%3614=897%:%
%:%3615=897%:%
%:%3616=897%:%
%:%3617=897%:%
%:%3618=898%:%
%:%3619=899%:%
%:%3620=899%:%
%:%3621=900%:%
%:%3622=900%:%
%:%3623=901%:%
%:%3624=901%:%
%:%3625=901%:%
%:%3626=901%:%
%:%3627=902%:%
%:%3628=902%:%
%:%3629=902%:%
%:%3630=902%:%
%:%3631=902%:%
%:%3632=903%:%
%:%3633=903%:%
%:%3634=903%:%
%:%3635=903%:%
%:%3636=904%:%
%:%3637=904%:%
%:%3638=904%:%
%:%3639=904%:%
%:%3640=905%:%
%:%3641=906%:%
%:%3642=906%:%
%:%3643=907%:%
%:%3644=907%:%
%:%3645=907%:%
%:%3646=908%:%
%:%3647=908%:%
%:%3648=908%:%
%:%3649=908%:%
%:%3650=908%:%
%:%3651=909%:%
%:%3652=909%:%
%:%3653=909%:%
%:%3654=909%:%
%:%3655=910%:%
%:%3656=910%:%
%:%3657=910%:%
%:%3658=910%:%
%:%3659=911%:%
%:%3660=912%:%
%:%3661=912%:%
%:%3662=912%:%
%:%3663=912%:%
%:%3664=913%:%
%:%3665=913%:%
%:%3666=913%:%
%:%3667=913%:%
%:%3668=913%:%
%:%3669=914%:%
%:%3670=914%:%
%:%3671=915%:%
%:%3672=915%:%
%:%3673=915%:%
%:%3674=915%:%
%:%3675=915%:%
%:%3676=916%:%
%:%3677=916%:%
%:%3678=916%:%
%:%3679=916%:%
%:%3680=916%:%
%:%3681=917%:%
%:%3687=917%:%
%:%3690=918%:%
%:%3691=919%:%
%:%3692=919%:%
%:%3695=920%:%
%:%3699=920%:%
%:%3700=920%:%
%:%3701=920%:%
%:%3702=920%:%
%:%3707=920%:%
%:%3710=921%:%
%:%3711=922%:%
%:%3712=922%:%
%:%3715=923%:%
%:%3719=923%:%
%:%3720=923%:%
%:%3721=924%:%
%:%3722=924%:%
%:%3723=925%:%
%:%3724=925%:%
%:%3725=926%:%
%:%3726=926%:%
%:%3727=926%:%
%:%3728=926%:%
%:%3729=927%:%
%:%3730=927%:%
%:%3731=927%:%
%:%3732=928%:%
%:%3733=928%:%
%:%3734=928%:%
%:%3735=928%:%
%:%3736=929%:%
%:%3737=929%:%
%:%3738=929%:%
%:%3739=929%:%
%:%3740=930%:%
%:%3741=931%:%
%:%3742=931%:%
%:%3743=931%:%
%:%3744=931%:%
%:%3745=932%:%
%:%3746=932%:%
%:%3747=932%:%
%:%3748=932%:%
%:%3749=933%:%
%:%3750=934%:%
%:%3751=934%:%
%:%3752=935%:%
%:%3753=935%:%
%:%3754=936%:%
%:%3755=936%:%
%:%3756=936%:%
%:%3757=937%:%
%:%3758=937%:%
%:%3759=937%:%
%:%3760=937%:%
%:%3761=937%:%
%:%3762=938%:%
%:%3763=938%:%
%:%3764=938%:%
%:%3765=938%:%
%:%3766=938%:%
%:%3767=939%:%
%:%3768=939%:%
%:%3769=939%:%
%:%3770=939%:%
%:%3771=939%:%
%:%3772=940%:%
%:%3773=940%:%
%:%3774=940%:%
%:%3775=940%:%
%:%3776=940%:%
%:%3777=941%:%
%:%3778=941%:%
%:%3779=941%:%
%:%3780=941%:%
%:%3781=941%:%
%:%3782=941%:%
%:%3783=942%:%
%:%3784=942%:%
%:%3785=943%:%
%:%3786=944%:%
%:%3787=944%:%
%:%3788=945%:%
%:%3789=946%:%
%:%3790=946%:%
%:%3791=947%:%
%:%3792=947%:%
%:%3793=947%:%
%:%3794=947%:%
%:%3795=948%:%
%:%3796=948%:%
%:%3797=948%:%
%:%3798=948%:%
%:%3799=948%:%
%:%3800=949%:%
%:%3801=949%:%
%:%3802=949%:%
%:%3803=949%:%
%:%3804=949%:%
%:%3805=950%:%
%:%3806=950%:%
%:%3807=950%:%
%:%3808=950%:%
%:%3809=950%:%
%:%3810=950%:%
%:%3811=951%:%
%:%3812=951%:%
%:%3813=951%:%
%:%3814=951%:%
%:%3815=952%:%
%:%3816=952%:%
%:%3817=952%:%
%:%3818=952%:%
%:%3819=952%:%
%:%3820=953%:%
%:%3821=953%:%
%:%3822=953%:%
%:%3823=953%:%
%:%3824=953%:%
%:%3825=954%:%
%:%3826=954%:%
%:%3827=954%:%
%:%3828=954%:%
%:%3829=954%:%
%:%3830=955%:%
%:%3831=955%:%
%:%3832=955%:%
%:%3833=955%:%
%:%3834=955%:%
%:%3835=955%:%
%:%3836=956%:%
%:%3837=956%:%
%:%3838=956%:%
%:%3839=956%:%
%:%3840=956%:%
%:%3841=957%:%
%:%3842=957%:%
%:%3843=958%:%
%:%3844=958%:%
%:%3845=958%:%
%:%3846=959%:%
%:%3847=959%:%
%:%3848=959%:%
%:%3849=960%:%
%:%3850=960%:%
%:%3851=960%:%
%:%3852=960%:%
%:%3853=960%:%
%:%3854=961%:%
%:%3860=961%:%
%:%3863=962%:%
%:%3864=963%:%
%:%3865=963%:%
%:%3868=964%:%
%:%3872=964%:%
%:%3873=964%:%
%:%3874=964%:%
%:%3879=964%:%
%:%3882=965%:%
%:%3883=966%:%
%:%3884=966%:%
%:%3891=967%:%
%:%3892=967%:%
%:%3893=968%:%
%:%3894=968%:%
%:%3895=969%:%
%:%3896=969%:%
%:%3897=970%:%
%:%3898=970%:%
%:%3899=971%:%
%:%3900=971%:%
%:%3901=972%:%
%:%3902=972%:%
%:%3903=973%:%
%:%3904=973%:%
%:%3905=974%:%
%:%3906=974%:%
%:%3907=974%:%
%:%3908=974%:%
%:%3909=975%:%
%:%3910=975%:%
%:%3911=975%:%
%:%3912=975%:%
%:%3913=975%:%
%:%3914=976%:%
%:%3915=976%:%
%:%3916=976%:%
%:%3917=977%:%
%:%3918=977%:%
%:%3919=977%:%
%:%3920=978%:%
%:%3921=978%:%
%:%3922=978%:%
%:%3923=979%:%
%:%3924=979%:%
%:%3925=979%:%
%:%3926=979%:%
%:%3927=980%:%
%:%3928=980%:%
%:%3929=980%:%
%:%3930=980%:%
%:%3931=981%:%
%:%3932=981%:%
%:%3933=981%:%
%:%3934=982%:%
%:%3935=982%:%
%:%3936=982%:%
%:%3937=982%:%
%:%3938=983%:%
%:%3939=983%:%
%:%3940=983%:%
%:%3941=984%:%
%:%3942=984%:%
%:%3943=984%:%
%:%3944=984%:%
%:%3945=984%:%
%:%3946=985%:%
%:%3947=985%:%
%:%3948=985%:%
%:%3949=985%:%
%:%3950=985%:%
%:%3951=985%:%
%:%3952=986%:%
%:%3953=986%:%
%:%3954=986%:%
%:%3955=986%:%
%:%3956=986%:%
%:%3957=987%:%
%:%3958=987%:%
%:%3959=987%:%
%:%3960=987%:%
%:%3961=987%:%
%:%3962=987%:%
%:%3963=988%:%
%:%3969=988%:%
%:%3972=989%:%
%:%3973=990%:%
%:%3974=990%:%
%:%3977=991%:%
%:%3981=991%:%
%:%3982=991%:%
%:%3983=991%:%
%:%3988=991%:%
%:%3991=992%:%
%:%3992=993%:%
%:%3993=993%:%
%:%4000=994%:%
%:%4001=994%:%
%:%4002=995%:%
%:%4003=995%:%
%:%4004=996%:%
%:%4005=997%:%
%:%4006=997%:%
%:%4007=998%:%
%:%4008=998%:%
%:%4009=998%:%
%:%4010=999%:%
%:%4011=999%:%
%:%4012=1000%:%
%:%4013=1000%:%
%:%4014=1001%:%
%:%4015=1001%:%
%:%4016=1001%:%
%:%4017=1001%:%
%:%4018=1002%:%
%:%4019=1002%:%
%:%4020=1002%:%
%:%4021=1002%:%
%:%4022=1002%:%
%:%4023=1003%:%
%:%4024=1003%:%
%:%4025=1004%:%
%:%4031=1004%:%
%:%4034=1005%:%
%:%4035=1006%:%
%:%4036=1006%:%
%:%4039=1007%:%
%:%4043=1007%:%
%:%4044=1007%:%
%:%4045=1007%:%
%:%4046=1008%:%
%:%4051=1008%:%
%:%4054=1009%:%
%:%4055=1010%:%
%:%4056=1010%:%
%:%4059=1011%:%
%:%4063=1011%:%
%:%4064=1011%:%
%:%4069=1011%:%
%:%4072=1012%:%
%:%4073=1013%:%
%:%4074=1013%:%
%:%4077=1014%:%
%:%4081=1014%:%
%:%4082=1014%:%
%:%4083=1014%:%
%:%4088=1014%:%
%:%4091=1015%:%
%:%4092=1016%:%
%:%4093=1016%:%
%:%4096=1017%:%
%:%4100=1017%:%
%:%4101=1017%:%
%:%4106=1017%:%
%:%4109=1018%:%
%:%4110=1019%:%
%:%4111=1019%:%
%:%4118=1020%:%
%:%4119=1020%:%
%:%4120=1021%:%
%:%4121=1021%:%
%:%4122=1021%:%
%:%4123=1022%:%
%:%4124=1022%:%
%:%4125=1022%:%
%:%4126=1022%:%
%:%4127=1023%:%
%:%4128=1023%:%
%:%4129=1023%:%
%:%4130=1023%:%
%:%4131=1023%:%
%:%4132=1023%:%
%:%4133=1024%:%
%:%4139=1024%:%
%:%4142=1025%:%
%:%4143=1026%:%
%:%4144=1026%:%
%:%4147=1027%:%
%:%4151=1027%:%
%:%4152=1027%:%
%:%4153=1027%:%
%:%4167=1029%:%
%:%4177=1031%:%
%:%4178=1031%:%
%:%4181=1032%:%
%:%4185=1032%:%
%:%4186=1032%:%
%:%4187=1032%:%
%:%4196=1034%:%
%:%4198=1035%:%
%:%4199=1035%:%
%:%4200=1036%:%
%:%4201=1037%:%
%:%4202=1038%:%
%:%4203=1039%:%
%:%4204=1040%:%
%:%4205=1041%:%
%:%4206=1042%:%
%:%4207=1042%:%
%:%4209=1042%:%
%:%4213=1042%:%
%:%4214=1042%:%
%:%4215=1042%:%
%:%4216=1042%:%
%:%4223=1042%:%
%:%4224=1043%:%
%:%4225=1044%:%
%:%4226=1044%:%
%:%4228=1044%:%
%:%4232=1044%:%
%:%4233=1044%:%
%:%4234=1044%:%
%:%4241=1044%:%
%:%4242=1045%:%
%:%4243=1046%:%
%:%4244=1046%:%
%:%4246=1046%:%
%:%4250=1046%:%
%:%4251=1046%:%
%:%4252=1046%:%
%:%4259=1046%:%
%:%4260=1047%:%
%:%4261=1048%:%
%:%4262=1048%:%
%:%4265=1049%:%
%:%4269=1049%:%
%:%4270=1049%:%
%:%4271=1049%:%
%:%4272=1050%:%
%:%4273=1050%:%
%:%4278=1050%:%
%:%4281=1051%:%
%:%4282=1052%:%
%:%4283=1052%:%
%:%4286=1053%:%
%:%4290=1053%:%
%:%4291=1053%:%
%:%4292=1053%:%
%:%4293=1053%:%
%:%4298=1053%:%
%:%4301=1054%:%
%:%4302=1055%:%
%:%4303=1055%:%
%:%4306=1056%:%
%:%4310=1056%:%
%:%4311=1056%:%
%:%4312=1056%:%
%:%4313=1056%:%
%:%4318=1056%:%
%:%4321=1057%:%
%:%4322=1058%:%
%:%4323=1058%:%
%:%4324=1059%:%
%:%4325=1060%:%
%:%4326=1061%:%
%:%4327=1062%:%
%:%4334=1063%:%
%:%4335=1063%:%
%:%4336=1064%:%
%:%4337=1064%:%
%:%4338=1064%:%
%:%4339=1064%:%
%:%4340=1065%:%
%:%4341=1065%:%
%:%4342=1066%:%
%:%4343=1067%:%
%:%4344=1067%:%
%:%4345=1067%:%
%:%4346=1067%:%
%:%4347=1067%:%
%:%4348=1068%:%
%:%4354=1068%:%
%:%4357=1069%:%
%:%4358=1070%:%
%:%4359=1070%:%
%:%4360=1071%:%
%:%4361=1072%:%
%:%4368=1073%:%
%:%4369=1073%:%
%:%4370=1074%:%
%:%4371=1074%:%
%:%4372=1074%:%
%:%4373=1074%:%
%:%4374=1075%:%
%:%4375=1075%:%
%:%4376=1075%:%
%:%4377=1075%:%
%:%4378=1076%:%
%:%4379=1076%:%
%:%4380=1076%:%
%:%4381=1076%:%
%:%4382=1077%:%
%:%4383=1077%:%
%:%4384=1077%:%
%:%4385=1077%:%
%:%4386=1077%:%
%:%4387=1078%:%
%:%4393=1078%:%
%:%4396=1079%:%
%:%4397=1080%:%
%:%4398=1080%:%
%:%4405=1081%:%
%:%4406=1081%:%
%:%4407=1082%:%
%:%4408=1082%:%
%:%4409=1082%:%
%:%4410=1082%:%
%:%4411=1083%:%
%:%4412=1083%:%
%:%4413=1083%:%
%:%4414=1083%:%
%:%4415=1083%:%
%:%4416=1084%:%
%:%4417=1084%:%
%:%4418=1084%:%
%:%4419=1084%:%
%:%4420=1085%:%
%:%4426=1085%:%
%:%4429=1086%:%
%:%4430=1087%:%
%:%4431=1087%:%
%:%4432=1088%:%
%:%4433=1089%:%
%:%4440=1090%:%
%:%4441=1090%:%
%:%4442=1091%:%
%:%4443=1091%:%
%:%4444=1091%:%
%:%4445=1091%:%
%:%4446=1092%:%
%:%4447=1092%:%
%:%4448=1092%:%
%:%4449=1093%:%
%:%4450=1093%:%
%:%4451=1094%:%
%:%4452=1094%:%
%:%4453=1095%:%
%:%4454=1096%:%
%:%4455=1096%:%
%:%4456=1096%:%
%:%4457=1096%:%
%:%4458=1097%:%
%:%4464=1097%:%
%:%4467=1098%:%
%:%4468=1099%:%
%:%4469=1099%:%
%:%4470=1100%:%
%:%4471=1101%:%
%:%4478=1102%:%
%:%4479=1102%:%
%:%4480=1103%:%
%:%4481=1103%:%
%:%4482=1103%:%
%:%4483=1103%:%
%:%4484=1103%:%
%:%4485=1104%:%
%:%4486=1104%:%
%:%4487=1105%:%
%:%4488=1105%:%
%:%4489=1106%:%
%:%4490=1106%:%
%:%4491=1107%:%
%:%4492=1107%:%
%:%4493=1107%:%
%:%4494=1108%:%
%:%4495=1108%:%
%:%4496=1108%:%
%:%4497=1108%:%
%:%4498=1109%:%
%:%4499=1109%:%
%:%4500=1110%:%
%:%4501=1110%:%
%:%4502=1110%:%
%:%4503=1110%:%
%:%4504=1111%:%
%:%4505=1111%:%
%:%4506=1111%:%
%:%4507=1111%:%
%:%4508=1111%:%
%:%4509=1112%:%
%:%4515=1112%:%
%:%4518=1113%:%
%:%4519=1114%:%
%:%4520=1114%:%
%:%4523=1115%:%
%:%4527=1115%:%
%:%4528=1115%:%
%:%4529=1115%:%
%:%4530=1116%:%
%:%4531=1116%:%
%:%4536=1116%:%
%:%4539=1117%:%
%:%4540=1118%:%
%:%4541=1118%:%
%:%4542=1119%:%
%:%4543=1120%:%
%:%4544=1120%:%
%:%4551=1121%:%
%:%4552=1121%:%
%:%4553=1122%:%
%:%4554=1122%:%
%:%4555=1123%:%
%:%4556=1123%:%
%:%4557=1124%:%
%:%4558=1124%:%
%:%4559=1124%:%
%:%4560=1124%:%
%:%4561=1125%:%
%:%4562=1125%:%
%:%4563=1125%:%
%:%4564=1125%:%
%:%4565=1126%:%
%:%4566=1126%:%
%:%4567=1126%:%
%:%4568=1126%:%
%:%4569=1127%:%
%:%4570=1127%:%
%:%4571=1127%:%
%:%4572=1128%:%
%:%4573=1129%:%
%:%4574=1129%:%
%:%4575=1129%:%
%:%4576=1130%:%
%:%4577=1130%:%
%:%4578=1131%:%
%:%4579=1131%:%
%:%4580=1132%:%
%:%4581=1132%:%
%:%4582=1132%:%
%:%4583=1132%:%
%:%4584=1132%:%
%:%4585=1133%:%
%:%4591=1133%:%
%:%4594=1134%:%
%:%4595=1135%:%
%:%4596=1135%:%
%:%4599=1136%:%
%:%4603=1136%:%
%:%4604=1136%:%
%:%4609=1136%:%
%:%4612=1137%:%
%:%4613=1138%:%
%:%4614=1138%:%
%:%4615=1139%:%
%:%4616=1140%:%
%:%4617=1141%:%
%:%4620=1142%:%
%:%4624=1142%:%
%:%4625=1142%:%
%:%4626=1142%:%
%:%4631=1142%:%
%:%4634=1143%:%
%:%4635=1144%:%
%:%4636=1144%:%
%:%4639=1145%:%
%:%4643=1145%:%
%:%4644=1145%:%
%:%4645=1145%:%
%:%4646=1145%:%
%:%4651=1145%:%
%:%4654=1146%:%
%:%4655=1147%:%
%:%4656=1147%:%
%:%4657=1148%:%
%:%4658=1149%:%
%:%4659=1150%:%
%:%4660=1151%:%
%:%4667=1152%:%
%:%4668=1152%:%
%:%4669=1153%:%
%:%4670=1153%:%
%:%4671=1154%:%
%:%4672=1154%:%
%:%4673=1154%:%
%:%4674=1154%:%
%:%4675=1155%:%
%:%4676=1155%:%
%:%4677=1155%:%
%:%4678=1155%:%
%:%4679=1156%:%
%:%4680=1156%:%
%:%4681=1156%:%
%:%4682=1156%:%
%:%4683=1157%:%
%:%4684=1157%:%
%:%4685=1158%:%
%:%4686=1158%:%
%:%4687=1159%:%
%:%4688=1159%:%
%:%4689=1159%:%
%:%4690=1160%:%
%:%4691=1160%:%
%:%4692=1160%:%
%:%4693=1160%:%
%:%4694=1160%:%
%:%4695=1161%:%
%:%4705=1163%:%
%:%4707=1165%:%
%:%4708=1165%:%
%:%4709=1166%:%
%:%4710=1167%:%
%:%4711=1168%:%
%:%4712=1168%:%
%:%4713=1169%:%
%:%4714=1170%:%
%:%4717=1173%:%
%:%4718=1174%:%
%:%4719=1175%:%
%:%4720=1175%:%
%:%4721=1176%:%
%:%4722=1177%:%
%:%4723=1178%:%
%:%4724=1178%:%
%:%4727=1179%:%
%:%4731=1179%:%
%:%4732=1179%:%
%:%4737=1179%:%
%:%4740=1180%:%
%:%4741=1181%:%
%:%4742=1181%:%
%:%4745=1182%:%
%:%4749=1182%:%
%:%4750=1182%:%
%:%4751=1183%:%
%:%4756=1183%:%
%:%4759=1184%:%
%:%4760=1185%:%
%:%4761=1185%:%
%:%4764=1186%:%
%:%4768=1186%:%
%:%4769=1186%:%
%:%4770=1186%:%
%:%4771=1186%:%
%:%4776=1186%:%
%:%4779=1187%:%
%:%4780=1188%:%
%:%4781=1188%:%
%:%4784=1189%:%
%:%4788=1189%:%
%:%4789=1189%:%
%:%4794=1189%:%
%:%4797=1190%:%
%:%4798=1191%:%
%:%4799=1191%:%
%:%4802=1192%:%
%:%4806=1192%:%
%:%4807=1192%:%
%:%4808=1193%:%
%:%4809=1194%:%
%:%4814=1194%:%
%:%4817=1195%:%
%:%4818=1196%:%
%:%4819=1196%:%
%:%4822=1197%:%
%:%4826=1197%:%
%:%4827=1197%:%
%:%4828=1198%:%
%:%4829=1199%:%
%:%4830=1200%:%
%:%4835=1200%:%
%:%4838=1201%:%
%:%4839=1202%:%
%:%4840=1202%:%
%:%4847=1203%:%
%:%4848=1203%:%
%:%4849=1204%:%
%:%4850=1204%:%
%:%4851=1205%:%
%:%4852=1205%:%
%:%4853=1205%:%
%:%4854=1205%:%
%:%4855=1206%:%
%:%4856=1206%:%
%:%4857=1207%:%
%:%4858=1207%:%
%:%4859=1208%:%
%:%4860=1208%:%
%:%4861=1208%:%
%:%4862=1209%:%
%:%4863=1209%:%
%:%4864=1210%:%
%:%4865=1210%:%
%:%4866=1211%:%
%:%4867=1211%:%
%:%4868=1211%:%
%:%4869=1211%:%
%:%4870=1211%:%
%:%4871=1212%:%
%:%4872=1212%:%
%:%4873=1212%:%
%:%4874=1212%:%
%:%4875=1212%:%
%:%4876=1213%:%
%:%4877=1213%:%
%:%4878=1214%:%
%:%4879=1214%:%
%:%4880=1215%:%
%:%4881=1215%:%
%:%4882=1216%:%
%:%4883=1216%:%
%:%4884=1216%:%
%:%4885=1216%:%
%:%4886=1216%:%
%:%4887=1217%:%
%:%4893=1217%:%
%:%4896=1218%:%
%:%4897=1219%:%
%:%4898=1219%:%
%:%4901=1220%:%
%:%4905=1220%:%
%:%4906=1220%:%
%:%4907=1220%:%
%:%4908=1220%:%
%:%4913=1220%:%
%:%4916=1221%:%
%:%4917=1222%:%
%:%4918=1222%:%
%:%4925=1223%:%
%:%4926=1223%:%
%:%4927=1224%:%
%:%4928=1224%:%
%:%4929=1225%:%
%:%4930=1225%:%
%:%4931=1225%:%
%:%4932=1225%:%
%:%4933=1226%:%
%:%4934=1226%:%
%:%4935=1227%:%
%:%4936=1227%:%
%:%4937=1228%:%
%:%4938=1228%:%
%:%4939=1228%:%
%:%4940=1229%:%
%:%4941=1229%:%
%:%4942=1230%:%
%:%4943=1230%:%
%:%4944=1230%:%
%:%4945=1231%:%
%:%4946=1231%:%
%:%4947=1231%:%
%:%4948=1232%:%
%:%4949=1232%:%
%:%4950=1233%:%
%:%4951=1233%:%
%:%4952=1233%:%
%:%4953=1233%:%
%:%4954=1233%:%
%:%4955=1234%:%
%:%4961=1234%:%
%:%4964=1235%:%
%:%4965=1236%:%
%:%4966=1236%:%
%:%4969=1237%:%
%:%4973=1237%:%
%:%4974=1237%:%
%:%4975=1237%:%
%:%4976=1237%:%
%:%4981=1237%:%
%:%4984=1238%:%
%:%4985=1239%:%
%:%4986=1239%:%
%:%4987=1240%:%
%:%4988=1241%:%
%:%4989=1242%:%
%:%4996=1243%:%
%:%4997=1243%:%
%:%4998=1244%:%
%:%4999=1244%:%
%:%5000=1245%:%
%:%5001=1245%:%
%:%5002=1246%:%
%:%5003=1247%:%
%:%5004=1248%:%
%:%5005=1248%:%
%:%5006=1248%:%
%:%5007=1248%:%
%:%5008=1249%:%
%:%5009=1249%:%
%:%5010=1249%:%
%:%5011=1249%:%
%:%5012=1250%:%
%:%5013=1250%:%
%:%5014=1250%:%
%:%5015=1250%:%
%:%5016=1251%:%
%:%5017=1251%:%
%:%5018=1252%:%
%:%5019=1252%:%
%:%5020=1252%:%
%:%5021=1252%:%
%:%5022=1253%:%
%:%5023=1253%:%
%:%5024=1254%:%
%:%5030=1254%:%
%:%5033=1255%:%
%:%5034=1256%:%
%:%5035=1256%:%
%:%5038=1257%:%
%:%5042=1257%:%
%:%5043=1257%:%
%:%5044=1257%:%
%:%5049=1257%:%
%:%5052=1258%:%
%:%5053=1259%:%
%:%5054=1259%:%
%:%5061=1260%:%
%:%5062=1260%:%
%:%5063=1261%:%
%:%5064=1261%:%
%:%5065=1262%:%
%:%5066=1262%:%
%:%5067=1262%:%
%:%5068=1263%:%
%:%5069=1263%:%
%:%5070=1263%:%
%:%5071=1264%:%
%:%5072=1264%:%
%:%5073=1264%:%
%:%5074=1265%:%
%:%5075=1265%:%
%:%5076=1266%:%
%:%5082=1266%:%
%:%5085=1267%:%
%:%5086=1268%:%
%:%5087=1268%:%
%:%5090=1269%:%
%:%5094=1269%:%
%:%5095=1269%:%
%:%5096=1269%:%
%:%5101=1269%:%
%:%5104=1270%:%
%:%5105=1271%:%
%:%5106=1271%:%
%:%5109=1272%:%
%:%5113=1272%:%
%:%5114=1272%:%
%:%5115=1272%:%
%:%5120=1272%:%
%:%5123=1273%:%
%:%5124=1274%:%
%:%5125=1274%:%
%:%5128=1275%:%
%:%5132=1275%:%
%:%5133=1275%:%
%:%5134=1276%:%
%:%5135=1276%:%
%:%5136=1276%:%
%:%5141=1276%:%
%:%5144=1277%:%
%:%5145=1278%:%
%:%5146=1278%:%
%:%5147=1279%:%
%:%5148=1280%:%
%:%5149=1281%:%
%:%5150=1282%:%
%:%5157=1283%:%
%:%5158=1283%:%
%:%5159=1284%:%
%:%5160=1284%:%
%:%5161=1284%:%
%:%5162=1284%:%
%:%5163=1285%:%
%:%5164=1285%:%
%:%5165=1285%:%
%:%5166=1285%:%
%:%5167=1285%:%
%:%5168=1286%:%
%:%5169=1286%:%
%:%5170=1286%:%
%:%5171=1286%:%
%:%5172=1287%:%
%:%5173=1287%:%
%:%5174=1287%:%
%:%5175=1287%:%
%:%5176=1287%:%
%:%5177=1288%:%
%:%5183=1288%:%
%:%5188=1289%:%
%:%5193=1290%:%
